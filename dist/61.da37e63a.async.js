(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{M7rh:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("nRaC");var r=l(a("5RzL")),d=l(a("jehZ"));a("5NDa");var o=l(a("5rEg"));a("+L6B");var s=l(a("2/Rp")),u=l(a("p0pE")),c=l(a("2Taf")),m=l(a("vZ4D")),f=l(a("l4Ni")),p=l(a("ujKo")),y=l(a("MhPg"));a("7Kak");var h=l(a("9yH6"));a("y8nQ");var g,E,C,v,_=l(a("Vl3Y")),k=i(a("q1tI")),b=a("MuoO"),F=l(a("9DcN")),w=_.default.Item,D=h.default.Group,S=(g=_.default.create({mapPropsToFields:function(e){return{category_name:_.default.createFormField({value:e.data.category_name}),image_path:_.default.createFormField({value:e.data.image_path&&""!==e.data.image_path?[e.data.image_path]:[]}),parent_name:_.default.createFormField({value:e.data.parent_name}),Delivery:_.default.createFormField({value:e.data.Delivery})}}}),E=(0,b.connect)(function(e){return{commodityClassificationmanagement:e.commodityClassificationmanagement}}),g(C=E((v=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return a=(0,f.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(i))),a.onClassifiedEditorSaveCallback=function(){var e=a.props,t=e.onNewClassifiedEditors,l=e.onEditClassifiedEditors;a.props.form.validateFieldsAndScroll(function(e,i){if(!e){var n=(0,u.default)({},i);n.parent_id=a.props.data.parent_id,1===a.props.mode?(n.image_path&&n.image_path.length>0?n.image_path=n.image_path.join(""):n.image_path="",n.category_id=a.props.data.goods_category_id,a.props.dispatch({type:"commodityClassificationmanagement/EditCommclass",params:n}),l()):2===a.props.mode&&(n.image_path&&n.image_path.length>0?n.image_path=n.image_path.join(""):n.image_path="",n.parent_name&&(n.parent_id=n.parent_name,n.parent_name=""),delete n.parent_name,delete n.is_leaf,a.props.dispatch({type:"commodityClassificationmanagement/insertCommclass",params:n}),t())}})},a}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"commodityClassificationmanagement/queryCommClass"})}},{key:"render",value:function(){var e=this,t={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:14}}},a={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:10}}},l=this.props.form.getFieldDecorator,i=this.props,u=i.data,c=i.mode,m=i.commodityClassificationmanagement.TreeData,f=[k.default.createElement(s.default,{style:{marginRight:10},key:"close",onClick:this.props.onClassifiedEditorsFrameCloseCallback},"\u5173\u95ed"),k.default.createElement(s.default,{type:"primary",key:"unauth",onClick:this.onClassifiedEditorSaveCallback},"\u4fdd\u5b58")],p=k.default.createElement(n.default,{bordered:!1},k.default.createElement(_.default,{style:{maxWidth:600}},k.default.createElement("div",null,1===c?"\u5546\u54c1\u5206\u7c7b\u7f16\u8f91":"\u5546\u54c1\u5206\u7c7b\u65b0\u5efa"),k.default.createElement(_.default.Item,(0,d.default)({},t,{label:"\u5206\u7c7b\u540d\u79f0"}),l("category_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]})(k.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:100}))),1===c?k.default.createElement(_.default.Item,(0,d.default)({},t,{label:"\u7236\u5206\u7c7b"}),l("parent_name",{rules:[{required:!1,message:"\u8bf7\u9009\u62e9"}]})(k.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:100,disabled:!0}))," "):k.default.createElement(_.default.Item,(0,d.default)({},t,{label:"\u7236\u5206\u7c7b"}),l("parent_name",{rules:[{required:!1,message:"\u8bf7\u9009\u62e9"}]})(k.default.createElement(r.default,{treeData:m,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"\u8bf7\u9009\u62e9",treeDefaultExpandAll:!0,allowClear:!0}))," "),k.default.createElement(w,(0,d.default)({},t,{label:"\u662f\u5426\u652f\u6301\u914d\u9001\uff1a"}),l("Delivery",{rules:[{required:!1,message:"\u8bf7\u9009\u62e9"}]})(k.default.createElement(D,{value:u.Delivery},k.default.createElement(h.default,{value:1,onChange:function(){return e.changeDelivery()}},"\u662f"),k.default.createElement(h.default,{value:2,onChange:function(){return e.nochangeDelivery()}},"\u5426")))),k.default.createElement(_.default.Item,(0,d.default)({},t,{label:"\u5206\u7c7b\u56fe\u6807"}),l("image_path",{rules:[{required:!1,message:"\u8bf7\u4e0a\u4f20"}]})(k.default.createElement(F.default,{num:1,bucket:"oper",listType:"picture-card"}))),k.default.createElement(_.default.Item,a,f)));return p}}]),t}(k.PureComponent),C=v))||C)||C);t.default=S},xT07:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("Pwec");var r=l(a("CtXQ"));a("+L6B");var d=l(a("2/Rp"));a("2qtc");var o=l(a("kLXV")),s=l(a("2Taf")),u=l(a("vZ4D")),c=l(a("l4Ni")),m=l(a("ujKo")),f=l(a("rlhR")),p=l(a("MhPg"));a("lUTK");var y,h,g,E=l(a("BvKs")),C=i(a("q1tI")),v=a("MuoO"),_=l(a("XZXw")),k=l(a("M7rh")),b=E.default.SubMenu,F=(y=(0,v.connect)(function(e){return{commodityClassificationmanagement:e.commodityClassificationmanagement}}),y((g=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return a=(0,c.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(i))),a.state={classifiedEditorsFrame:{visible:!1,data:null,mode:null}},a.handleClickedit=function(e){a.props.dispatch({type:"commodityClassificationmanagement/queryAttrList",payload:e.goods_category_id}),a.setState({classifiedEditorsFrame:{visible:!0,data:e,mode:1}})},a.handleClickdele=function(){a.queryListData(a.queryForm,a.pagination)},a.closeSubFrame=function(){a.setState({classifiedEditorsFrame:{visible:!1,data:null,mode:null}})},a.NewClassifiedEditors=function(){a.closeSubFrame()},a.EditClassifiedEditors=function(){a.closeSubFrame()},a.onNewparten=function(){a.setState({classifiedEditorsFrame:{visible:!0,data:{Delivery:1,category_name:"",category_id:"",image_path:"",is_leaf:"",parent_id:""},mode:2}})},a.deleClickdel=function(e){o.default.confirm({title:"\u64cd\u4f5c\u786e\u8ba4",content:"\u786e\u8ba4\u8981\u5220\u9664\u6b64\u5206\u7c7b\uff1f",okType:"danger",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:a.deleOff.bind((0,f.default)(a),e)})},a.deleOff=function(e){a.props.dispatch({type:"commodityClassificationmanagement/DeleOff",category:e}),a.BtnSearch()},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.BtnSearch()}},{key:"BtnSearch",value:function(){this.props.dispatch({type:"commodityClassificationmanagement/queryShopStatueTotalInfo"})}},{key:"render",value:function(){var e=this,t=this.props.commodityClassificationmanagement.CommdityClassisfication,a=C.default.createElement("div",null,C.default.createElement(_.default,{title:"\u5546\u54c1\u5206\u7c7b\u7ba1\u7406"},C.default.createElement(n.default,{bordered:!1},C.default.createElement("div",null,C.default.createElement(d.default,{icon:"plus",type:"primary",onClick:function(){return e.onNewparten()}},"\u65b0\u5efa")),C.default.createElement("div",{style:{display:"flex",flex:"wrap"}},C.default.createElement(E.default,{style:{width:256},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline"},t&&t.map(function(t){return C.default.createElement(b,{key:t.category_name,title:C.default.createElement("span",{onClick:function(){return e.handleClickedit(t)}},C.default.createElement("span",null,t.category_name),C.default.createElement(r.default,{type:"close",onClick:function(a){a.stopPropagation(),e.deleClickdel(t.goods_category_id)}}))},t.children&&t.children.map(function(t){return C.default.createElement(E.default.Item,{key:t.category_name},C.default.createElement("span",{onClick:function(){return e.handleClickedit(t)}},t.category_name," ",C.default.createElement("span",null,C.default.createElement(r.default,{type:"edit",onClick:function(){return e.handleClickedit(t)}}),C.default.createElement(r.default,{type:"close",onClick:function(){return e.deleClickdel(t.goods_category_id)}}))))}))})),C.default.createElement("div",{style:{flex:3}},this.state.classifiedEditorsFrame.visible&&C.default.createElement(k.default,{data:this.state.classifiedEditorsFrame.data,mode:this.state.classifiedEditorsFrame.mode,onClassifiedEditorsFrameCloseCallback:this.closeSubFrame,onNewClassifiedEditors:this.NewClassifiedEditors,onEditClassifiedEditors:this.EditClassifiedEditors}))))));return a}}]),t}(C.PureComponent),h=g))||h);t.default=F}}]);