(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{PmFQ:function(e,t,a){e.exports={tableList:"web\\pages\\-demo\\-demo-list-tableList",tableListOperator:"web\\pages\\-demo\\-demo-list-tableListOperator",tableListForm:"web\\pages\\-demo\\-demo-list-tableListForm",submitButtons:"web\\pages\\-demo\\-demo-list-submitButtons"}},Tjh4:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=l(a("kLXV"));a("7Kak");var d=l(a("9yH6")),r=l(a("jehZ"));a("5NDa");var u=l(a("5rEg")),i=l(a("p0pE")),c=l(a("2Taf")),s=l(a("vZ4D")),f=l(a("l4Ni")),m=l(a("ujKo")),p=l(a("MhPg"));a("y8nQ");var h,y,b,v,E=l(a("Vl3Y")),g=n(a("q1tI")),k=a("MuoO"),w=(h=(0,k.connect)(function(e){return{demo:e.demo}}),y=E.default.create(),h(b=y((v=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return a=(0,f.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(n))),a.onOKClick=function(){var e=a.props,t=e.form,l=e.onSubmit;t.validateFieldsAndScroll(function(e,t){if(!e){var a=(0,i.default)({},t);a.status=parseInt(a.status,10),l(a)}})},a.dispatch=function(e){var t=a.props.dispatch;t(e)},a}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onCancel,a=e.demo,l=a.formTitle,n=a.formVisible,i=a.formData,c=a.submitting,s=e.form.getFieldDecorator,f={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};return g.default.createElement(o.default,{title:l,width:600,visible:n,maskClosable:!1,confirmLoading:c,destroyOnClose:!0,onOk:this.onOKClick,onCancel:t,style:{top:20},bodyStyle:{maxHeight:"calc( 100vh - 158px )",overflowY:"auto"}},g.default.createElement(E.default,null,g.default.createElement(E.default.Item,(0,r.default)({},f,{label:"\u7f16\u53f7"}),s("code",{initialValue:i.code,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f16\u53f7"}]})(g.default.createElement(u.default,{placeholder:"\u8bf7\u8f93\u5165\u7f16\u53f7"}))),g.default.createElement(E.default.Item,(0,r.default)({},f,{label:"\u540d\u79f0"}),s("name",{initialValue:i.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(g.default.createElement(u.default,{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"}))),g.default.createElement(E.default.Item,(0,r.default)({},f,{label:"\u5907\u6ce8"}),s("memo",{initialValue:i.memo})(g.default.createElement(u.default.TextArea,{rows:2,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"}))),g.default.createElement(E.default.Item,(0,r.default)({},f,{label:"\u72b6\u6001"}),s("status",{initialValue:i.status?i.status.toString():"1"})(g.default.createElement(d.default.Group,null,g.default.createElement(d.default,{value:"1"},"\u6b63\u5e38"),g.default.createElement(d.default,{value:"2"},"\u505c\u7528"))))))}}]),t}(g.PureComponent),b=v))||b)||b),C=w;t.default=C},lU4E:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var o=l(a("bx4M"));a("g9YV");var d=l(a("wCAj")),r=l(a("p0pE"));a("Awhp");var u=l(a("KrTs"));a("+L6B");var i=l(a("2/Rp"));a("14J3");var c=l(a("BMrR"));a("OaEy");var s=l(a("2fM7"));a("jCWc");var f=l(a("kPKH"));a("5NDa");var m=l(a("5rEg"));a("2qtc");var p=l(a("kLXV")),h=l(a("2Taf")),y=l(a("vZ4D")),b=l(a("l4Ni")),v=l(a("ujKo")),E=l(a("rlhR")),g=l(a("MhPg"));a("y8nQ");var k,w,C,S,F=l(a("Vl3Y")),D=n(a("q1tI")),I=a("MuoO"),R=l(a("XZXw")),x=l(a("rZaG")),O=a("+n12"),K=l(a("Tjh4")),T=l(a("PmFQ")),L=(k=(0,I.connect)(function(e){return{loading:e.loading.models.demo,demo:e.demo}}),w=F.default.create(),k(C=w((S=function(e){function t(){var e,a;(0,h.default)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return a=(0,b.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(n))),a.state={selectedRowKeys:[],selectedRows:[]},a.onItemDisableClick=function(e){a.dispatch({type:"demo/changeStatus",payload:{record_id:e.record_id,status:2}})},a.onItemEnableClick=function(e){a.dispatch({type:"demo/changeStatus",payload:{record_id:e.record_id,status:1}})},a.onItemEditClick=function(e){a.dispatch({type:"demo/loadForm",payload:{type:"E",id:e.record_id}})},a.onAddClick=function(){a.dispatch({type:"demo/loadForm",payload:{type:"A"}})},a.clearSelectRows=function(){var e=a.state.selectedRowKeys;0!==e.length&&a.setState({selectedRowKeys:[],selectedRows:[]})},a.onItemDelClick=function(e){p.default.confirm({title:"\u786e\u5b9a\u5220\u9664\u3010\u57fa\u7840\u793a\u4f8b\u6570\u636e\uff1a".concat(e.name,"\u3011\uff1f"),okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onDelOKClick.bind((0,E.default)(a),e.record_id)})},a.onTableSelectRow=function(e,t){a.setState({selectedRowKeys:e,selectedRows:t})},a.onTableChange=function(e){a.dispatch({type:"demo/fetch",pagination:{current:e.current,pageSize:e.pageSize}}),a.clearSelectRows()},a.onResetFormClick=function(){var e=a.props.form;e.resetFields(),a.dispatch({type:"demo/fetch",search:{},pagination:{}})},a.onSearchFormSubmit=function(e){e&&e.preventDefault();var t=a.props.form;t.validateFields({force:!0},function(e,t){e||(a.dispatch({type:"demo/fetch",search:t,pagination:{}}),a.clearSelectRows())})},a.onDataFormSubmit=function(e){a.dispatch({type:"demo/submit",payload:e}),a.clearSelectRows()},a.onDataFormCancel=function(){a.dispatch({type:"demo/changeFormVisible",payload:!1})},a.dispatch=function(e){var t=a.props.dispatch;t(e)},a}return(0,g.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){this.dispatch({type:"demo/fetch",search:{},pagination:{}})}},{key:"onDelOKClick",value:function(e){this.dispatch({type:"demo/del",payload:{record_id:e}}),this.clearSelectRows()}},{key:"renderDataForm",value:function(){return D.default.createElement(K.default,{onCancel:this.onDataFormCancel,onSubmit:this.onDataFormSubmit})}},{key:"renderSearchForm",value:function(){var e=this.props.form.getFieldDecorator;return D.default.createElement(F.default,{onSubmit:this.onSearchFormSubmit,layout:"inline"},D.default.createElement(c.default,{gutter:16},D.default.createElement(f.default,{md:8,sm:24},D.default.createElement(F.default.Item,{label:"\u7f16\u53f7"},e("code")(D.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165"})))),D.default.createElement(f.default,{md:8,sm:24},D.default.createElement(F.default.Item,{label:"\u540d\u79f0"},e("name")(D.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165"})))),D.default.createElement(f.default,{md:8,sm:24},D.default.createElement(F.default.Item,{label:"\u72b6\u6001"},e("status")(D.default.createElement(s.default,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},D.default.createElement(s.default.Option,{value:"1"},"\u6b63\u5e38"),D.default.createElement(s.default.Option,{value:"2"},"\u505c\u7528")))))),D.default.createElement("div",{style:{overflow:"hidden"}},D.default.createElement("span",{style:{float:"right",marginBottom:24}},D.default.createElement(i.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),D.default.createElement(i.default,{style:{marginLeft:8},onClick:this.onResetFormClick},"\u91cd\u7f6e"))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,l=t.demo.data,n=l.list,i=l.pagination,c=this.state,s=c.selectedRows,f=c.selectedRowKeys,m=[{title:"\u7f16\u53f7",dataIndex:"code"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u5907\u6ce8",dataIndex:"memo"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return 1===e?D.default.createElement(u.default,{status:"success",text:"\u542f\u7528"}):D.default.createElement(u.default,{status:"error",text:"\u505c\u7528"})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",render:function(e){return D.default.createElement("span",null,(0,O.formatDate)(e,"YYYY-MM-DD HH:mm"))}}],p=(0,r.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return D.default.createElement("span",null,"\u5171",e,"\u6761")}},i),h=[{title:"\u6f14\u793a\u7528\u4f8b"},{title:"\u57fa\u7840\u793a\u4f8b",href:"/example/demo"}];return D.default.createElement(R.default,{title:"\u57fa\u7840\u793a\u4f8b",breadcrumbList:h},D.default.createElement(o.default,{bordered:!1},D.default.createElement("div",{className:T.default.tableList},D.default.createElement("div",{className:T.default.tableListForm},this.renderSearchForm()),D.default.createElement("div",{className:T.default.tableListOperator},D.default.createElement(x.default,{code:"add",icon:"plus",type:"primary",onClick:function(){return e.onAddClick()}},"\u65b0\u5efa"),1===s.length&&[D.default.createElement(x.default,{key:"edit",code:"edit",icon:"edit",onClick:function(){return e.onItemEditClick(s[0])}},"\u7f16\u8f91"),D.default.createElement(x.default,{key:"del",code:"del",icon:"delete",type:"danger",onClick:function(){return e.onItemDelClick(s[0])}},"\u5220\u9664"),2===s[0].status&&D.default.createElement(x.default,{key:"enable",code:"enable",icon:"check",onClick:function(){return e.onItemEnableClick(s[0])}},"\u542f\u7528"),1===s[0].status&&D.default.createElement(x.default,{key:"disable",code:"disable",icon:"stop",type:"danger",onClick:function(){return e.onItemDisableClick(s[0])}},"\u7981\u7528")]),D.default.createElement("div",null,D.default.createElement(d.default,{rowSelection:{selectedRowKeys:f,onChange:this.onTableSelectRow},loading:a,rowKey:function(e){return e.record_id},dataSource:n,columns:m,pagination:p,onChange:this.onTableChange,size:"small"})))),this.renderDataForm())}}]),t}(D.PureComponent),C=S))||C)||C),_=L;t.default=_}}]);