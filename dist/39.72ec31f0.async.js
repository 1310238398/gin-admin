(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{KwSP:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=l(a("bx4M")),n=l(a("p0pE"));a("Awhp");var o=l(a("KrTs"));a("qVdP");var u=l(a("jsC+"));a("lUTK");var s=l(a("BvKs")),d=l(a("d6i3"));a("miYZ");var i=l(a("tsqr")),c=l(a("1l/V"));a("2qtc");var f=l(a("kLXV"));a("14J3");var m=l(a("BMrR"));a("+L6B");var p=l(a("2/Rp"));a("jCWc");var h=l(a("kPKH")),y=l(a("jehZ"));a("5NDa");var g=l(a("5rEg"));a("OaEy");var E=l(a("2fM7"));a("iQDF");var v=l(a("+eQT")),b=l(a("2Taf")),C=l(a("vZ4D")),k=l(a("l4Ni")),P=l(a("ujKo")),w=l(a("rlhR")),x=l(a("MhPg"));a("y8nQ");var F,_,D,I,S=l(a("Vl3Y")),T=l(a("q1tI")),L=l(a("tsr/")),M=l(a("XZXw")),K=a("MuoO"),V=l(a("LeT2")),O=l(a("jcFm")),A=l(a("vebg")),R=a("+n12"),Y=(F=S.default.create(),_=(0,K.connect)(function(e){return{salesPromotion:e.salesPromotion,storeApply:e.store}}),F(D=_((I=function(e){function t(){var e,a;(0,b.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,k.default)(this,(e=(0,P.default)(t)).call.apply(e,[this].concat(r))),a.state={store:"",dataForm:!1,dataFormID:"",dataFormType:""},a.renderSearchForm=function(){var e={labelCol:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:8}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:8}}},t={sm:24,md:6},l=v.default.RangePicker,r=a.props.form.getFieldDecorator,n=E.default.Option;return T.default.createElement(S.default,null,T.default.createElement(m.default,{gutter:{md:8,lg:24,xl:48}},T.default.createElement(h.default,t,T.default.createElement(O.default,(0,y.default)({},e,{label:"\u6d3b\u52a8\u540d\u79f0"}),r("name",{})(T.default.createElement(g.default,{placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0",maxLength:"50"})))),T.default.createElement(h.default,t,T.default.createElement(S.default.Item,{label:"\u9009\u62e9\u65f6\u95f4\u533a\u95f4"},r("time")(T.default.createElement(l,null)))),T.default.createElement(h.default,t,T.default.createElement(O.default,(0,y.default)({},e,{label:"\u72b6\u6001"}),r("discount_status",{initialValue:0})(T.default.createElement(E.default,null,T.default.createElement(n,{value:0},"\u5168\u90e8"),T.default.createElement(n,{value:2},"\u6b63\u5e38"),T.default.createElement(n,{value:3},"\u5173\u95ed"))))),T.default.createElement(h.default,t,T.default.createElement(p.default,{icon:"search",type:"primary",style:{marginLeft:8},onClick:a.onSearchFormSubmit},"\u67e5\u8be2"),T.default.createElement(p.default,{type:"danger",style:{marginLeft:8},onClick:a.onResetFormClick},"\u6e05\u7a7a"))),T.default.createElement(m.default,null,T.default.createElement(p.default,{icon:"plus",type:"primary",onClick:function(){return a.onAddClick()}},"\u65b0\u5efa")))},a.onAddClick=function(){a.setState({dataForm:!0,dataFormID:"",dataFormType:"A"})},a.onDataFormCallback=function(e){a.setState({dataForm:!1,dataFormID:""})},a.onSearchFormSubmit=function(e){e&&e.preventDefault();var t=a.props.form.getFieldsValue();t.time&&(t.from=t.time[0].unix(),t.to=t.time[1].unix()),t.time="",a.props.dispatch({type:"salesPromotion/fetch",payload:t})},a.onTableChange=function(e){a.props.dispatch({type:"salesPromotion/fetch",pagination:{current:e.current,pageSize:e.pageSize}})},a.onItemDelClick=function(e){f.default.confirm({title:"\u786e\u5b9a\u5220\u9664\u3010".concat(e.name,"\u3011\u5546\u54c1\uff1f"),okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onDelOKClick.bind((0,w.default)(a),e)})},a.onResetFormClick=function(){a.props.form.resetFields(),a.props.dispatch({type:"salesPromotion/saveSearch",payload:{}}),a.props.dispatch({type:"salesPromotion/fetch"})},a.onItemSeeClick=function(e){a.setState({dataForm:!0,dataFormID:e,dataFormType:"K"})},a.onItemEditClick=function(e){a.setState({dataForm:!0,dataFormID:e,dataFormType:"E"})},a.onItemChangeStatus=function(e,t){console.log(t);var l=a.props.salesPromotion.store;a.props.dispatch({type:"salesPromotion/changStatus",payload:{store_id:l.store_id,discount_id:e,type:t}})},a}return(0,x.default)(t,e),(0,C.default)(t,[{key:"componentDidMount",value:function(){var e=(0,c.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"salesPromotion/getStore"});case 2:if(t=this.props.salesPromotion.store,0!==t.passed&&t.store_id){e.next=8;break}i.default.error("\u8bf7\u5148\u5f00\u901a\u5e97\u94fa"),this.props.dispatch({type:"salesPromotion/redirect"}),e.next=12;break;case 8:return e.next=10,this.setState({store:t.store_id});case 10:return e.next=12,this.props.dispatch({type:"salesPromotion/fetch",store:t});case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=[{dataIndex:"discount_id",width:100,render:function(t,a){return T.default.createElement("div",null,T.default.createElement(u.default,{overlay:T.default.createElement(s.default,null,T.default.createElement(s.default.Item,null,T.default.createElement("a",{onClick:function(){e.onItemSeeClick(t)}}," ","\u67e5\u770b"," ")),T.default.createElement(s.default.Item,null,T.default.createElement("a",{onClick:function(){e.onItemEditClick(t)}}," ","\u7f16\u8f91"," ")),3===a.discount_status&&T.default.createElement(s.default.Item,null,T.default.createElement("a",{onClick:function(){e.onItemChangeStatus(t,"1")}}," ","\u8bbe\u7f6e\u4e3a\u542f\u7528"," ")),2===a.discount_status&&T.default.createElement(s.default.Item,null,T.default.createElement("a",{onClick:function(){e.onItemChangeStatus(t,"2")}}," ","\u8bbe\u7f6e\u4e3a\u5173\u95ed"," ")),T.default.createElement(s.default.Item,null,T.default.createElement("a",{onClick:function(){e.onItemDelClick(a)}}," ","\u5220\u9664"," ")))},T.default.createElement(p.default,null,"\u64cd\u4f5c")))}},{title:"\u6d3b\u52a8\u540d\u79f0",dataIndex:"name",width:150},{title:"\u6ee1\u8db3\u91d1\u989d(\u5143)",dataIndex:"limit",render:function(e){return T.default.createElement("span",null,e/100)}},{title:"\u51cf\u53bb\u91d1\u989d(\u5143)",dataIndex:"discount",render:function(e){return T.default.createElement("span",null,e/100*-1)}},{title:"\u6d3b\u52a8\u5f00\u59cb\u65f6\u95f4",dataIndex:"start_time",render:function(e){return T.default.createElement("span",null,(0,R.formatTimestamp)(e))}},{title:"\u6d3b\u52a8\u7ed3\u675f\u65f6\u95f4",dataIndex:"end_time",render:function(e){return T.default.createElement("span",null,(0,R.formatTimestamp)(e))}},{title:"\u72b6\u6001",dataIndex:"discount_status",render:function(e,t){if(1===e)return T.default.createElement(o.default,{status:"success",text:"\u65b0\u5efa"});if(2===e){var a=(new Date).getTime();return a="".concat(a),a=a.substring(0,10),t.start_time>a?T.default.createElement(o.default,{status:"warning",text:"\u53d1\u5e03"}):t.end_time<a?T.default.createElement(o.default,{status:"warning",text:"\u8fc7\u671f"}):T.default.createElement(o.default,{status:"warning",text:"\u6b63\u5e38"})}return 3===e?T.default.createElement(o.default,{status:"error",text:"\u6682\u505c"}):4===e?T.default.createElement(o.default,{status:"error",text:"\u5173\u95ed"}):void console.log("\u9519\u8bef")}}],a=this.props.salesPromotion.data,l=a.pagination,d=a.list,i=(0,n.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return T.default.createElement("span",null,"\u5171",e,"\u6761")}},l);return T.default.createElement(M.default,{title:"\u4fc3\u9500\u6d3b\u52a8"},T.default.createElement(r.default,{bordered:!1},T.default.createElement("div",{className:L.default.tableList},T.default.createElement("div",{className:L.default.tableListForm},this.renderSearchForm()),T.default.createElement("div",{className:L.default.tableListOperator}),T.default.createElement("div",null,T.default.createElement(V.default,{pagination:i,dataSource:d,columns:t,rowKey:function(e){return e.discount_id},scroll:{x:1e3},onChange:this.onTableChange})),this.renderDataForm())))}},{key:"renderDataForm",value:function(){if(this.state.dataForm)return T.default.createElement(A.default,{id:this.state.dataFormID,type:this.state.dataFormType,callback:this.onDataFormCallback})}},{key:"onDelOKClick",value:function(e){this.props.dispatch({type:"salesPromotion/del",payload:{item:e}})}}]),t}(T.default.PureComponent),D=I))||D)||D);t.default=Y},"R+mz":function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("g9YV");var o=l(a("wCAj"));a("+L6B");var u=l(a("2/Rp"));a("14J3");var s=l(a("BMrR"));a("6UJt");var d=l(a("DFOY"));a("jCWc");var i=l(a("kPKH")),c=l(a("jehZ"));a("5NDa");var f=l(a("5rEg")),m=l(a("p0pE")),p=l(a("d6i3")),h=l(a("1l/V")),y=l(a("2Taf")),g=l(a("vZ4D")),E=l(a("l4Ni")),v=l(a("ujKo")),b=l(a("MhPg"));a("y8nQ");var C,k,P,w,x,F=l(a("Vl3Y")),_=r(a("q1tI")),D=a("MuoO"),I=l(a("jcFm")),S=(C=F.default.create(),k=(0,D.connect)(function(e){return{salesPromotion:e.salesPromotion}}),P=F.default.create(),C(w=k(w=P((x=function(e){function t(){var e,a;(0,y.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,E.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(r))),a.state={productClass:"",productDate:[],selectedRowKeys:[]},a.onModalOKClick=function(){a.props.dispatch({type:"salesPromotion/setProductDate",payload:a.state.productDate}),a.props.callback()},a.onModalCancelClick=function(){a.props.dispatch({type:"salesPromotion/productLoadForm",payload:!1}),a.props.callback()},a.onTableChange=function(e){a.props.dispatch({type:"salesPromotion/getProductList",pagination:{current:e.current,pageSize:e.pageSize}})},a.onSearchFormSubmit=function(e){e&&e.preventDefault();var t=a.props.form.getFieldsValue();t.category_id=t.category_id[t.category_id.length-1],a.props.dispatch({type:"salesPromotion/getProductList",payload:t})},a.onBtnClearClick=function(){a.props.form.resetFields();var e=a.state.store;a.props.dispatch({type:"salesPromotion/saveProductSearch",payload:{}}),a.props.dispatch({type:"salesPromotion/getProductList",store:e})},a}return(0,b.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){var e=(0,h.default)(p.default.mark(function e(){return p.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"salesPromotion/productLoadForm"});case 2:return e.next=4,this.props.dispatch({type:"salesPromotion/getProductList"});case 4:return e.next=6,this.props.dispatch({type:"salesPromotion/getProductClass"});case 6:this.setState({productClass:this.props.salesPromotion.productClass,selectedRowKeys:this.props.salesPromotion.formCheck});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=this.props,a=t.salesPromotion,l=a.formproductVisible,r=a.ProductData,p=r.list,h=r.pagination,y=t.form.getFieldDecorator,g=(0,m.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return _.default.createElement("span",null,"\u5171",e,"\u6761")}},h),E=this.state.selectedRowKeys,v={selectedRowKeys:E,onChange:function(t,a){e.setState({productDate:a,selectedRowKeys:t})}},b=[{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u5546\u54c1\u5206\u7c7b",dataIndex:"category_name"}],C={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return _.default.createElement(n.default,{title:"\u5546\u54c1\u9009\u62e9",width:600,visible:l,maskClosable:!1,destroyOnClose:!0,onOk:this.onModalOKClick,onCancel:this.onModalCancelClick,style:{top:20},bodyStyle:{height:550,overflowY:"scroll"}},_.default.createElement(F.default,null,_.default.createElement(s.default,null,_.default.createElement(i.default,{span:10},_.default.createElement(I.default,(0,c.default)({},C,{label:"\u5546\u54c1\u540d\u79f0"}),y("name",{})(_.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",maxLength:"30"})))),_.default.createElement(i.default,{span:10,push:1},_.default.createElement(F.default.Item,(0,c.default)({},C,{label:"\u5546\u54c1\u5206\u7c7b"}),y("category_id",{initialValue:[]})(_.default.createElement(d.default,{fieldNames:{label:"value",value:"key",children:"children"},options:this.state.productClass,onChange:this.ChangeProductClass,expandTrigger:"hover",placeholder:"\u8bf7\u9009\u62e9\u5546\u54c1\u5206\u7c7b"}))))),_.default.createElement(s.default,null,_.default.createElement(i.default,{span:21,style:{textAlign:"right",marginBottom:"10px"}},_.default.createElement(u.default,{icon:"search",type:"primary",style:{marginLeft:8},onClick:this.onSearchFormSubmit},"\u67e5\u8be2"),_.default.createElement(u.default,{type:"danger",style:{marginLeft:8},onClick:this.onBtnClearClick},"\u91cd\u7f6e")))),_.default.createElement(o.default,{dataSource:p,pagination:g,columns:b,rowSelection:v,rowKey:function(e){return e.goods_id},onChange:this.onTableChange}))}}]),t}(_.PureComponent),w=x))||w)||w)||w);t.default=S},"tsr/":function(e,t,a){e.exports={tableList:"web\\pages\\-mall\\-sales-promotion\\-sales-promotion-tableList",tableListOperator:"web\\pages\\-mall\\-sales-promotion\\-sales-promotion-tableListOperator",tableListForm:"web\\pages\\-mall\\-sales-promotion\\-sales-promotion-tableListForm",submitButtons:"web\\pages\\-mall\\-sales-promotion\\-sales-promotion-submitButtons"}},vebg:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("+BJd");var o=l(a("mr32"));a("iQDF");var u=l(a("+eQT"));a("14J3");var s=l(a("BMrR"));a("jCWc");var d=l(a("kPKH")),i=l(a("jehZ"));a("5NDa");var c=l(a("5rEg"));a("Znn+");var f=l(a("ZTPi")),m=l(a("d6i3")),p=l(a("1l/V"));a("miYZ");var h=l(a("tsqr"));a("g9YV");var y=l(a("wCAj"));a("+L6B");var g=l(a("2/Rp")),E=l(a("2Taf")),v=l(a("vZ4D")),b=l(a("l4Ni")),C=l(a("ujKo")),k=l(a("rlhR")),P=l(a("MhPg"));a("y8nQ");var w,x,F,_,D=l(a("Vl3Y")),I=r(a("q1tI")),S=a("MuoO"),T=l(a("R+mz")),L=a("+n12"),M=(w=(0,S.connect)(function(e){return{salesPromotion:e.salesPromotion}}),x=D.default.create(),w(F=x((_=function(e){function t(){var e,a;(0,E.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,b.default)(this,(e=(0,C.default)(t)).call.apply(e,[this].concat(r))),a.state={productVisible:!1},a.renderProduct=function(){if(a.state.productVisible)return I.default.createElement(T.default,{type:a.state.productVisibleType,callback:a.onDataFormCallback.bind((0,k.default)(a))})},a.renderTable=function(){var e=[{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u5546\u54c1\u5206\u7c7b",dataIndex:"category_name"},{title:"\u5e93\u5b58",dataIndex:"stock"},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e){return I.default.createElement(g.default,{type:"danger",onClick:function(){return a.deldataSourceItem(e)}},"\u5220\u9664")}}],t=a.props.type,l=a.props.salesPromotion.ProductDataList,r=l;if(void 0===r.length&&(r=[]),console.log(r),"A"===t){if(""!==l)return I.default.createElement(y.default,{dataSource:r,columns:e,rowKey:function(e){return e.goods_id},onChange:a.onTableChange})}else if("K"===t){if(e.pop(),""!==l)return I.default.createElement(y.default,{dataSource:r,columns:e,rowKey:function(e){return e.goods_id},onChange:a.onTableChange})}else if(""!==l)return I.default.createElement(y.default,{dataSource:r,columns:e,rowKey:function(e){return e.goods_id},onChange:a.onTableChange})},a.onModalOKClick=function(){var e=a.props.salesPromotion.ProductDataList;a.props.form.validateFieldsAndScroll(function(t,l){if(t)h.default.error("\u8bf7\u5b8c\u5584\u6d3b\u52a8\u57fa\u672c\u4fe1\u606f");else if(e.length)if(l.start_time>l.end_time)h.default.error("\u5f00\u59cb\u65f6\u95f4\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675f\u65f6\u95f4");else if(l.limit=Math.round(100*Number(l.limit)),l.discount=Math.round(100*Number(l.discount)),l.limit<l.discount)h.default.error("\u51cf\u53bb\u91d1\u989d\u5927\u4e8e\u6ee1\u8db3\u91d1\u989d ");else{l.start_time=l.start_time.unix(),l.end_time=l.end_time.unix();var r=[];for(var n in e)r.push(e[n].goods_id);var o={discount:l,goods_list:r};a.props.dispatch({type:"salesPromotion/submit",payload:o}),a.props.callback("ok")}else h.default.error("\u8bf7\u5b8c\u5584\u6d3b\u52a8\u5546\u54c1\u4fe1\u606f")})},a.onModalCancelClick=function(){a.props.dispatch({type:"salesPromotion/changeFormVisible",payload:!1}),a.props.callback()},a.onAddClick=function(){a.setState({productVisible:!0})},a.deldataSourceItem=function(e){for(var t=a.props.salesPromotion.ProductDataList,l=t,r=l.length-1;r>=0;r--)if(l[r].id===e.id){l.splice(r,1),a.props.dispatch({type:"salesPromotion/setProductDate",payload:l});var n=[];for(var o in l)n.push(l[o].goods_id);a.props.dispatch({type:"salesPromotion/saveFormDataCheck",payload:n})}},a.showAddClick=function(){var e=a.props.type;if("E"===e||"A"===e)return I.default.createElement(g.default,{type:"primary",style:{margin:"10px"},onClick:function(){return a.onAddClick()}},"\u6dfb\u52a0\u6d3b\u52a8\u5546\u54c1")},a}return(0,P.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){var e=(0,p.default)(m.default.mark(function e(){var t,a,l,r;return m.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,l=t.type,r=t.callback,e.next=3,this.props.dispatch({type:"salesPromotion/loadForm",payload:{id:a,type:l,callback:r}});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this.props,t=e.salesPromotion,a=t.formTitle,l=t.formVisible,r=t.formData,m=t.prohibit,p=e.form.getFieldDecorator,h={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},y=f.default.TabPane;return I.default.createElement(n.default,{title:a,width:600,visible:l,maskClosable:!1,destroyOnClose:!0,onOk:this.onModalOKClick,onCancel:this.onModalCancelClick,style:{top:20},bodyStyle:{height:550,overflowY:"scroll"}},I.default.createElement(f.default,{defaultActiveKey:"1",onChange:this.tabCallback},I.default.createElement(y,{tab:"\u6ee1\u51cf\u6d3b\u52a8\u57fa\u672c\u4fe1\u606f",key:"1"},I.default.createElement(D.default,null,I.default.createElement(s.default,null,I.default.createElement(d.default,{md:24,sm:24},I.default.createElement(D.default.Item,(0,i.default)({},h,{label:"\u6d3b\u52a8\u540d\u79f0"}),p("name",{initialValue:r.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0"}]})(I.default.createElement(c.default,{placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0",disabled:m,maxLength:"50"}))))),I.default.createElement(s.default,null,I.default.createElement(d.default,{md:24,sm:24},I.default.createElement(D.default.Item,(0,i.default)({},h,{label:"\u6ee1\u8db3\u91d1\u989d"}),p("limit",{initialValue:r.limit?r.limit/100:null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6ee1\u8db3\u91d1\u989d",type:"number",transform:function(e){if(e)return Number(e)}}]})(I.default.createElement(c.default,{placeholder:"\u8bf7\u8f93\u5165\u6ee1\u8db3\u91d1\u989d",disabled:m,maxLength:"20"}))))),I.default.createElement(s.default,null,I.default.createElement(d.default,{md:24,sm:24},I.default.createElement(D.default.Item,(0,i.default)({},h,{label:"\u51cf\u53bb\u91d1\u989d"}),p("discount",{initialValue:r.discount?r.discount/100:null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u51cf\u53bb\u91d1\u989d",type:"number",transform:function(e){if(e)return Number(e)}}]})(I.default.createElement(c.default,{placeholder:"\u8bf7\u8f93\u5165\u51cf\u53bb\u91d1\u989d",disabled:m,maxLength:"20"}))))),I.default.createElement(s.default,null,I.default.createElement(d.default,{md:24,sm:24},I.default.createElement(D.default.Item,(0,i.default)({},h,{label:"\u5f00\u59cb\u65f6\u95f4"}),p("start_time",{initialValue:r.start_time?(0,L.parseTimestamp)(r.start_time):null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f00\u59cb\u65f6\u95f4"}]})(I.default.createElement(u.default,{format:"YYYY-MM-DD",disabled:m}))))),I.default.createElement(s.default,null,I.default.createElement(d.default,{md:24,sm:24},I.default.createElement(D.default.Item,(0,i.default)({},h,{label:"\u7ed3\u675f\u65f6\u95f4"}),p("end_time",{initialValue:r.end_time?(0,L.parseTimestamp)(r.end_time):null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ed3\u675f\u65f6\u95f4"}]})(I.default.createElement(u.default,{format:"YYYY-MM-DD",disabled:m}))))),"K"===this.props.type||"E"===this.props.type?I.default.createElement(s.default,null,I.default.createElement(d.default,{md:24,sm:24},2===r.discount_status&&I.default.createElement(D.default.Item,(0,i.default)({},h,{label:"\u72b6\u6001"}),p("discount_status",{})(I.default.createElement(o.default,{color:"green"},"\u6b63\u5e38"))),3===r.discount_status&&I.default.createElement(D.default.Item,(0,i.default)({},h,{label:"\u72b6\u6001"}),p("discount_status",{})(I.default.createElement(o.default,{color:"red"},"\u5173\u95ed"))))):null)),I.default.createElement(y,{tab:"\u6d3b\u52a8\u5546\u54c1\u4fe1\u606f",key:"2"},this.showAddClick(),this.renderTable())),this.renderProduct())}},{key:"onDataFormCallback",value:function(){var e=(0,p.default)(m.default.mark(function e(t){return m.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setState({productVisible:!1});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(I.PureComponent),F=_))||F)||F);t.default=M}}]);