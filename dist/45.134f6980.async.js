(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{NJ40:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=n(a("bx4M"));a("g9YV");var c=n(a("wCAj"));a("qVdP");var o=n(a("jsC+"));a("lUTK");var u=n(a("BvKs"));a("+L6B");var d=n(a("2/Rp"));a("2qtc");var s=n(a("kLXV"));a("+BJd");var i,f,m,h=n(a("mr32")),g=n(a("2Taf")),p=n(a("vZ4D")),b=n(a("l4Ni")),E=n(a("ujKo")),y=n(a("MhPg")),v=l(a("q1tI")),k=(n(a("LeT2")),a("MuoO")),S=a("+n12"),_=n(a("fNhD")),w=a("6LfW"),I=(i=(0,k.connect)(function(e){return{orderManagement:e.orderManagement}}),i((m=function(e){function t(){var e,a;(0,g.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,b.default)(this,(e=(0,E.default)(t)).call.apply(e,[this].concat(l))),a.paymentMethodRender=function(e){var t={alipay_app:"blue",wechat_app:"green"};return v.default.createElement(w.DicShow,{pcode:"mall$#payment$#paymentMethod",code:[e],show:function(a){return v.default.createElement(h.default,{color:t[e],key:a},a)}})},a.orderstatusRender=function(e){var t={1:"blue",21:"blue",22:"blue",23:"green",3:"red",4:"blue",5:"blue",6:"green",7:"green",8:"red"};return v.default.createElement(w.DicShow,{pcode:"mall$#order$#orderstatus",code:[e],show:function(a){return v.default.createElement(h.default,{color:t[e],key:a},a)}})},a.deliveryStatusRender=function(e){var t=["blue","blue","green","red"];return v.default.createElement(w.DicShow,{pcode:"mall$#order$#distribution",code:[e],show:function(a){return v.default.createElement(h.default,{color:t[e],key:a},a)}})},a.settlestatusRender=function(e){switch(e){case 1:return v.default.createElement(h.default,{color:"blue"},"\u7ed3\u7b97");case 2:return v.default.createElement(h.default,{color:"green"},"\u672a\u7ed3\u7b97");default:return""}},a.complanstatusRender=function(e){switch(e){case 1:return v.default.createElement(h.default,{color:"blue"},"\u65e0\u6295\u8bc9");case 2:return v.default.createElement(h.default,{color:"green"},"\u6709\u6295\u8bc9");case 3:return v.default.createElement(h.default,{color:"red"},"\u5df2\u5904\u7406");case 4:return v.default.createElement(h.default,{color:"blue"},"\u4e0d\u5904\u7406");default:return""}},a.refusestatusRender=function(e){switch(e){case 1:return v.default.createElement(h.default,{color:"blue"},"\u65e0\u9000\u6b3e");case 2:return v.default.createElement(h.default,{color:"green"},"\u6709\u9000\u6b3e");default:return""}},a.pricesamp=function(e){return 0===e?"0.00":"."==="".concat(e).substring(1,"".concat(e).length-2)?(t="".concat(e).substring(0,"".concat(e).length-2)+"".concat(e).substring("".concat(e).length-2,"".concat(e).length),t):""==="".concat(e).substring(0,"".concat(e).length-2)?(t="".concat("".concat(e).substring(0,"".concat(e).length-2),"0.0").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t):(t="".concat("".concat(e).substring(0,"".concat(e).length-2),".").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t);var t},a.Shield=function(e){var t=a.props.ShieldCallback;s.default.confirm({title:"\u64cd\u4f5c\u786e\u8ba4",content:"\u786e\u5b9a\u8981\u5c4f\u853d\u6b64\u8bc4\u4ef7\u5417\uff1f",okType:"danger",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){t(e)}})},a.ReleaseShield=function(e){var t=a.props.ReleaseShieldCallback;s.default.confirm({title:"\u64cd\u4f5c\u786e\u8ba4",content:"\u786e\u5b9a\u8981\u89e3\u9664\u5c4f\u853d\u6b64\u8bc4\u4ef7\u5417\uff1f",okType:"danger",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){t(e)}})},a}return(0,y.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.props.orderManagement.orderInfo,a=[v.default.createElement(d.default,{key:"close",onClick:this.props.onShopInfoFrameCloseCallback},"\u5173\u95ed")],n=100,l=120,i=[{title:"\u64cd\u4f5c",key:"operation",fixed:"left",width:n,render:function(t){return v.default.createElement(o.default,{placement:"bottomCenter",overlay:v.default.createElement(u.default,null,1===t.comment_status||2===t.comment_status?v.default.createElement(u.default.Item,{onClick:function(){return e.Shield(t)}},"\u5c4f\u853d"):null,3===t.comment_status?v.default.createElement(u.default.Item,{onClick:function(){return e.ReleaseShield(t)}},"\u89e3\u9664\u5c4f\u853d"):null)},v.default.createElement(d.default,null,"\u64cd\u4f5c"))}},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name",width:l,key:"name"},{title:"\u5355\u4ef7(\u5143)",dataIndex:"unit_price",width:l,key:"unit_price",render:function(e){var t;if("."==="".concat(e).substring(1,"".concat(e).length-2))t="".concat(e).substring(0,"".concat(e).length-2)+"".concat(e).substring("".concat(e).length-2,"".concat(e).length);else{if(""==="".concat(e).substring(0,"".concat(e).length-2))return t="".concat("".concat(e).substring(0,"".concat(e).length-2),"0.0").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t;t="".concat("".concat(e).substring(0,"".concat(e).length-2),".").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length))}return t}},{title:"\u6570\u91cf",dataIndex:"quantity",width:140,key:"quantity"},{title:"\u91d1\u989d(\u5143)",dataIndex:"gender",width:n,key:"gender",render:function(e,t){var a,n=0;if(n=t.quantity*t.unit_price,"."==="".concat(n).substring(1,"".concat(n).length-2))a="".concat(n).substring(0,"".concat(n).length-2)+"".concat(n).substring("".concat(n).length-2,"".concat(n).length);else{if(""==="".concat(n).substring(0,"".concat(n).length-2))return a="".concat("".concat(n).substring(0,"".concat(n).length-2),"0.0").concat("".concat(n).substring("".concat(n).length-2,"".concat(n).length)),a;a="".concat("".concat(n).substring(0,"".concat(n).length-2),".").concat("".concat(n).substring("".concat(n).length-2,"".concat(n).length))}return a}},{title:"\u8bc4\u4ef7\u72b6\u6001",dataIndex:"sales_record_status",width:n,key:"sales_record_status",render:function(e,t){var a=["blue","blue","green","red"];return 3===e&&2===t.comment_status?v.default.createElement(h.default,{color:a[e]},"\u5df2\u56de\u590d"):3===e&&3===t.comment_status?v.default.createElement(h.default,{color:a[e]},"\u5df2\u5c4f\u853d"):v.default.createElement(w.DicShow,{pcode:"mall$#order$#comment",code:[e],show:function(t){return v.default.createElement(h.default,{color:a[e],key:t},t)}})}},{title:"\u8bc4\u5206",dataIndex:"score",width:l,key:"score"},{title:"\u8bc4\u4ef7\u5185\u5bb9",dataIndex:"text",width:l,key:"text"},{title:"\u5546\u5bb6\u56de\u590d",dataIndex:"replay",width:n,key:"replay"}],f=v.default.createElement(s.default,{className:_.default.frame,visible:!0,title:"\u8ba2\u5355\u8be6\u60c5",destroyOnClose:!0,maskClosable:!1,onCancel:this.props.onShopInfoFrameCloseCallback,footer:a},v.default.createElement("table",{style:{width:"100%"}},v.default.createElement("tbody",null,v.default.createElement("tr",null,v.default.createElement("td",{className:_.default.title},"\u8ba2\u5355\u7f16\u53f7\uff1a"),v.default.createElement("td",{className:_.default.label,colSpan:3},t.order_id)),v.default.createElement("tr",null,v.default.createElement("td",{className:_.default.title},"\u4e70\u5bb6\u540d\u79f0\uff1a"),v.default.createElement("td",{className:_.default.label},t.user_name),v.default.createElement("td",{className:_.default.title},"\u4e70\u5bb6\u8d26\u53f7\uff1a"),v.default.createElement("td",{className:_.default.label},t.user_tel)),v.default.createElement("tr",null,v.default.createElement("td",{className:_.default.title},"\u6240\u5c5e\u5e97\u94fa\uff1a"),v.default.createElement("td",{className:_.default.label},t.store_name),v.default.createElement("td",{className:_.default.title},"\u5e97\u94fa\u7535\u8bdd\uff1a"),v.default.createElement("td",{className:_.default.label},t.store_tel)),v.default.createElement("tr",null,v.default.createElement("td",{className:_.default.title},"\u4f18\u60e0\u91d1\u989d\uff1a"),v.default.createElement("td",{className:_.default.label},this.pricesamp(t.cut_price),"\u5143"),v.default.createElement("td",{className:_.default.title},"\u8ba2\u5355\u91d1\u989d\uff1a"),v.default.createElement("td",{className:_.default.label},this.pricesamp(t.price),"\u5143")),v.default.createElement("tr",null,v.default.createElement("td",{className:_.default.title},"\u8ba2\u5355\u72b6\u6001\uff1a"),v.default.createElement("td",{className:_.default.label},this.orderstatusRender(t.order_status)),v.default.createElement("td",{className:_.default.title},"\u4e0b\u5355\u65f6\u95f4\uff1a"),v.default.createElement("td",{className:_.default.label},0===t.created?"":(0,S.formatTimestamp)(t.created))),v.default.createElement("tr",null,v.default.createElement("td",{className:_.default.title},"\u5546\u5bb6\u63a5\u5355\u65f6\u95f4\uff1a"),v.default.createElement("td",{className:_.default.label},0===t.check_in||void 0===t.check_in?"":(0,S.formatTimestamp)(t.check_in)),v.default.createElement("td",{className:_.default.title},"\u8ba2\u5355\u5b8c\u6210\u65f6\u95f4\uff1a"),v.default.createElement("td",{className:_.default.label},0===t.finished||void 0===t.finished?"":(0,S.formatTimestamp)(t.finished))),v.default.createElement("tr",null,v.default.createElement("td",{className:_.default.title},"\u652f\u4ed8\u65b9\u5f0f\uff1a"),v.default.createElement("td",{className:_.default.label},t.pay_channel&&this.paymentMethodRender(t.pay_channel)),v.default.createElement("td",{className:_.default.title},"\u914d\u9001\u72b6\u6001\uff1a"),v.default.createElement("td",{className:_.default.label},this.deliveryStatusRender(t.delivery_status))))),v.default.createElement(r.default,{bordered:!1},v.default.createElement(c.default,{rowKey:function(e){return e.id},dataSource:t.goods_list,columns:i,scroll:{x:1100}})));return f}}]),t}(v.PureComponent),f=m))||f);t.default=I},"RdB+":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=n(a("bx4M")),c=n(a("p0pE"));a("+BJd");var o=n(a("mr32"));a("qVdP");var u=n(a("jsC+"));a("+L6B");var d=n(a("2/Rp"));a("lUTK");var s=n(a("BvKs"));a("5NDa");var i=n(a("5rEg"));a("iQDF");var f=n(a("+eQT")),m=n(a("2Taf")),h=n(a("vZ4D")),g=n(a("l4Ni")),p=n(a("ujKo")),b=n(a("MhPg"));a("y8nQ");var E,y,v,k,S=n(a("Vl3Y")),_=l(a("q1tI")),w=a("MuoO"),I=n(a("LeT2")),C=n(a("wd/R")),N=a("+n12"),x=n(a("NJ40")),M=n(a("XZXw")),T=a("w7Oj"),D=a("6LfW"),R=(E=(0,w.connect)(function(e){return{orderManagement:e.orderManagement}}),y=S.default.create(),E(v=y((k=function(e){function t(){var e,a;(0,m.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,g.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(l))),a.state={shoporderInfoFrame:{visible:!1}},a.pagination={},a.onBtnSearchClick=function(){a.pagination={current:1,pageSize:10};var e=a.props.form.getFieldsValue();e.settlefromto&&(e.from=e.settlefromto[0].unix(),e.to=e.settlefromto[1].unix()),a.queryListData(e,a.pagination)},a.onTableChange=function(e){var t=a.queryForm;a.queryListData(t,e)},a.onBtnClearClick=function(){a.props.form.resetFields(),a.onBtnSearchClick()},a.showStoreStatueInfoFrame=function(e){a.props.dispatch({type:"orderManagement/setOrderInfo",payload:e}),a.setState({shoporderInfoFrame:{visible:!0}})},a.ReleaseShield=function(e){a.props.dispatch({type:"orderManagement/ReleaseShield",param:e})},a.Shield=function(e){a.props.dispatch({type:"orderManagement/Sheild",param:e})},a.closeSubFrame=function(){a.props.dispatch({type:"orderManagement/setOrderInfo",payload:null}),a.setState({shoporderInfoFrame:{visible:!1}})},a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.onBtnSearchClick()}},{key:"queryListData",value:function(e,t){this.props.dispatch({type:"orderManagement/queryShopStatueTotalInfo",params:e,pagination:{current:t.current,pageSize:t.pageSize}})}},{key:"renderSearchForm",value:function(){var e=this.props.form.getFieldDecorator,t=f.default.RangePicker,a="YYYY/MM/DD";return _.default.createElement(T.SearchCard,{form:this.props.form,onSearch:this.onBtnSearchClick,onReset:this.onBtnClearClick},_.default.createElement(T.SearchItem,{label:"\u8ba2\u5355\u7f16\u53f7"},e("order_id",{})(_.default.createElement(i.default,{placeholder:"\u8bf7\u8f93\u5165"}))),_.default.createElement(T.SearchItem,{label:"\u4e70\u5bb6"},e("user_name",{})(_.default.createElement(i.default,{placeholder:"\u8bf7\u8f93\u5165"}))),_.default.createElement(T.SearchItem,{label:"\u5546\u94fa"},e("store_name",{})(_.default.createElement(i.default,{placeholder:"\u8bf7\u8f93\u5165"}))),_.default.createElement(T.SearchItem,{label:"\u8ba2\u5355\u72b6\u6001"},e("order_status",{})(_.default.createElement(D.DicSelect,{vmode:"string",pcode:"mall$#order$#orderstatus",selectProps:{placeholder:"\u8bf7\u9009\u62e9"}}))),_.default.createElement(T.SearchItem,{label:"\u914d\u9001\u72b6\u6001"},e("delivery_status",{})(_.default.createElement(D.DicSelect,{vmode:"string",pcode:"mall$#order$#distribution",selectProps:{placeholder:"\u8bf7\u9009\u62e9"}}))),_.default.createElement(T.SearchItem,{label:"\u4e0b\u5355\u65f6\u95f4"},e("settlefromto",{})(_.default.createElement(t,{style:{width:"100%"},showTime:{defaultValue:(0,C.default)("00:00:00")},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],format:a}))))}},{key:"render",value:function(){var e=this,t=this.props.orderManagement,a=t.tableData,n=a.list,l=a.pagination,i=t.loading,f=[{title:"\u64cd\u4f5c",key:"operation",fixed:"left",width:70,render:function(t,a){return _.default.createElement(u.default,{placement:"bottomCenter",overlay:_.default.createElement(s.default,null,_.default.createElement(s.default.Item,{onClick:function(){return e.showStoreStatueInfoFrame(a)}},"\u67e5\u770b"))},_.default.createElement(d.default,null,"\u64cd\u4f5c"))}},{title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"order_id",width:100,key:"order_id"},{title:"\u4e70\u5bb6\u540d\u79f0",dataIndex:"user_name",key:"user_name"},{title:"\u4e70\u5bb6\u8d26\u53f7",dataIndex:"user_tel",key:"user_tel"},{title:"\u6240\u5c5e\u5e97\u94fa",dataIndex:"store_name",key:"store_name"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"order_status",key:"order_status",render:function(e){var t={1:"blue",21:"blue",22:"blue",23:"green",3:"red",4:"blue",5:"blue",6:"green",7:"green",8:"red"};return _.default.createElement(D.DicShow,{pcode:"mall$#order$#orderstatus",code:[e],show:function(a){return _.default.createElement(o.default,{color:t[e],key:a},a)}})}},{title:"\u5e97\u94fa\u7535\u8bdd",dataIndex:"store_tel",key:"store_tel"},{title:"\u4f18\u60e0\u91d1\u989d(\u5143)",dataIndex:"cut_price",key:"cut_price",render:function(e){var t;return 2===String(e).length?(t="".concat("".concat(e).substring(0,"".concat(e).length-2),"0.").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t):1===String(e).length?(t="".concat("".concat(e).substring(0,"".concat(e).length-2),"0.0").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t):"."==="".concat(e).substring(1,"".concat(e).length-2)?(t="".concat(e).substring(0,"".concat(e).length-2)+"".concat(e).substring("".concat(e).length-2,"".concat(e).length),t):(t="".concat("".concat(e).substring(0,"".concat(e).length-2),".").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t)}},{title:"\u8ba2\u5355\u91d1\u989d(\u5143)",dataIndex:"price",key:"price",render:function(e){var t;return""==="".concat(e).substring(0,"".concat(e).length-2)?(t="".concat("".concat(e).substring(0,"".concat(e).length-2),"0.0").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t):"."==="".concat(e).substring(1,"".concat(e).length-2)?(t="".concat(e).substring(0,"".concat(e).length-2)+"".concat(e).substring("".concat(e).length-2,"".concat(e).length),t):(t="".concat("".concat(e).substring(0,"".concat(e).length-2),".").concat("".concat(e).substring("".concat(e).length-2,"".concat(e).length)),t)}},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"created",key:"created",render:function(e){return e?(0,N.formatTimestamp)(e):""}},{title:"\u914d\u9001\u72b6\u6001",dataIndex:"delivery_status",key:"delivery_status",render:function(e){var t=["blue","blue","green","red"];return _.default.createElement(D.DicShow,{pcode:"mall$#order$#distribution",code:[e],show:function(a){return _.default.createElement(o.default,{color:t[e-1],key:a},a)}})}}],m=(0,c.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return _.default.createElement("span",null,"\u5171",e,"\u6761\u8bb0\u5f55")}},l),h=_.default.createElement("div",null,_.default.createElement(M.default,{title:"\u8ba2\u5355\u7ba1\u7406"},_.default.createElement(r.default,{bordered:!1},this.renderSearchForm(),_.default.createElement(I.default,{style:{marginTop:20},loading:i,rowKey:function(e){return e.id},dataSource:n,columns:f,scroll:{x:1700},onChange:this.onTableChange,pagination:m}))),this.state.shoporderInfoFrame.visible&&_.default.createElement(x.default,{onShopInfoFrameCloseCallback:this.closeSubFrame,ReleaseShieldCallback:this.ReleaseShield,ShieldCallback:this.Shield}));return h}}]),t}(_.PureComponent),v=k))||v)||v);t.default=R},fNhD:function(e,t,a){e.exports={frame:"web\\pages\\-mall\\-order-management-info\\-order-management-info-frame",title:"web\\pages\\-mall\\-order-management-info\\-order-management-info-title",label:"web\\pages\\-mall\\-order-management-info\\-order-management-info-label"}}}]);