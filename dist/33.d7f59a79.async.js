(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{"5swM":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var r=l(a("5rEg")),u=l(a("p0pE")),o=l(a("2Taf")),i=l(a("vZ4D")),d=l(a("l4Ni")),c=l(a("ujKo")),s=l(a("MhPg"));a("y8nQ");var f=l(a("Vl3Y"));a("OaEy");var p,m,g,h,v=l(a("2fM7")),y=n(a("q1tI")),k=a("MuoO"),C=l(a("9DcN")),E=a("Bint"),b=v.default.Option,M=(p=(0,k.connect)(function(e){return{groupManage:e.groupManage}}),m=f.default.create(),p(g=m((h=function(e){function t(e){var a;(0,o.default)(this,t),a=(0,d.default)(this,(0,c.default)(t).call(this,e)),a.formSubmit=function(){a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var l=(0,u.default)({},t);if(l.banner&&l.banner.length&&"string"!==typeof l.banner){var n=l.banner[0];n&&(l.banner=n)}else delete l.banner;l.icon&&l.icon.length||delete l.icon,a.props.dispatch({type:"groupManage/submitDesc",payload:l})}})};var l=e.callback;return l(a.formSubmit),a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.id;e&&this.props.dispatch({type:"groupManage/fetchFormDesc",payload:e})}},{key:"render",value:function(){var e=this.props,t=e.groupManage,a=t.formData,l=t.formID,n=e.form.getFieldDecorator,u=[],o=a.icon;return o&&o.length&&(u=o),y.default.createElement(E.FormCard,{form:this.props.form},l&&y.default.createElement(E.FormItem,{label:"\u4fe1\u606f\u7ec4\u7f16\u53f7"},l),y.default.createElement(E.FormItem,{label:"\u540d\u79f0"},n("name",{initialValue:a.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4fe1\u606f\u7ec4\u540d\u79f0"}]})(y.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:"20"}))),y.default.createElement(E.FormItem,{label:"\u77ed\u540d\u79f0"},n("short_name",{initialValue:a.short_name,rules:[{required:!0,max:5,message:"\u8bf7\u8f93\u5165\u4fe1\u606f\u7ec4\u77ed\u540d\u79f0,\u6700\u957f\u4e0d\u80fd\u8d85\u8fc75\u4e2a\u5b57"}]})(y.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:5}))),y.default.createElement(E.FormItem,{label:"\u6536\u96c6\u7c7b\u578b"},n("kind",{initialValue:a.kind,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6536\u96c6\u7c7b\u578b"}]})(y.default.createElement(v.default,null,y.default.createElement(b,{value:0},"\u624b\u52a8"),y.default.createElement(b,{value:1},"\u81ea\u52a8")))),y.default.createElement(E.FormItem,{label:"\u6240\u5c5e\u7ec4\u7ec7"},n("org",{initialValue:a.org,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6240\u5c5e\u7ec4\u7ec7"}]})(y.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165",onChange:this.onOrgChange}))),y.default.createElement(E.FormItem,{col:1,label:"\u56fe\u6807"},n("icon",{initialValue:u,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u56fe\u6807"}]})(y.default.createElement(C.default,{bucket:"cms",name:"data",num:9,listType:"picture-card"}))),y.default.createElement(E.FormItem,{col:1,label:"\u7b80\u4ecb"},n("desc",{initialValue:a.desc})(y.default.createElement(r.default.TextArea,{rows:4,placeholder:"\u8bf7\u8f93\u5165"}))))}}]),t}(y.PureComponent),g=h))||g)||g);t.default=M},Inr9:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var r=l(a("/wGt"));a("IzEo");var u=l(a("bx4M"));a("g9YV");var o=l(a("wCAj"));a("5NDa");var i=l(a("5rEg")),d=l(a("jehZ"));a("+L6B");var c=l(a("2/Rp"));a("+BJd");var s=l(a("mr32"));a("2qtc");var f=l(a("kLXV")),p=l(a("p0pE")),m=l(a("2Taf")),g=l(a("vZ4D")),h=l(a("l4Ni")),v=l(a("ujKo")),y=l(a("rlhR")),k=l(a("MhPg"));a("7Kak");var C=l(a("9yH6"));a("y8nQ");var E,b,M,w,S=l(a("Vl3Y")),I=n(a("q1tI")),D=a("MuoO"),x=l(a("vqhc")),O=a("4QLA"),F=l(a("F6yL")),T=S.default.Item,_=C.default.Group,V=(E=(0,D.connect)(function(e){return{groupManage:e.groupManage}}),b=S.default.create(),E(M=b((w=function(e){function t(e){var a;(0,m.default)(this,t),a=(0,h.default)(this,(0,v.default)(t).call(this,e)),a.updateRules=function(e){a.setState({rules:e})},a.onAddClick=function(){a.setState({rule:{}}),a.showDrawer()},a.onClose=function(){a.setState({visible:!1})},a.onEditClick=function(e){a.setState({rule:e}),a.showDrawer()},a.onEditRule=function(e){var t=a.state,l=t.rule,n=t.newid,r=t.rules,u=r;if(l&&l.id&&e.id===l.id)u=r.map(function(t){return t.id===e.id?e:t});else{var o=(0,p.default)({},e);o.id=n,a.setState({newid:n-1}),u.push(o)}a.setState({rules:u}),a.onClose()},a.onDeleteClick=function(e){f.default.confirm({title:"\u786e\u5b9a\u5220\u9664\u8be5\u6570\u636e\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onDelOKClick.bind((0,y.default)(a),e)})},a.onDelOKClick=function(e){var t=e.id,l=a.state.rules;l=l.filter(function(e){return t!==e.id}),a.setState({rules:l})},a.formSubmit=function(){a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var l=(0,p.default)({},t);l&&(l.flags||""===l.flags)&&"string"===typeof l.flags&&(l.flags=l.flags.split(/\s+/));var n=a.state.rules;l.rules=n,a.props.dispatch({type:"groupManage/submitCtrl",payload:l})}})},a.showDrawer=function(){a.setState({visible:!0})};var l=e.callback;return l(a.formSubmit),a.state={rules:[],visible:!1,rule:{},newid:-1},a}return(0,k.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.id;e&&this.props.dispatch({type:"groupManage/fetchFormCtrl",payload:e})}},{key:"componentDidUpdate",value:function(e,t,a){null!=a&&this.updateRules(a)}},{key:"getSnapshotBeforeUpdate",value:function(e){return e.groupManage.formCtrlData===this.props.groupManage.formCtrlData?null:this.props.groupManage.formCtrlData.rules?this.props.groupManage.formCtrlData.rules:null}},{key:"render",value:function(){var e=this,t=this.props,a=t.groupManage,l=a.formCtrlData,n=a.formData,f=t.form.getFieldDecorator,p=this.state.rules,m={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:14}}},g=l.flags,h="";g&&g.length&&(h=g.join(" "));var v=[{title:"\u7ec4\u7ec7",dataIndex:"org",width:100,render:function(e){return I.default.createElement(O.OrgShow,{value:e})}},{title:"\u680f\u76ee",dataIndex:"column_id",width:100,render:function(e,t){return t.column_id?"".concat(t.column_name,"(").concat(t.column_id,")"):""}},{title:"\u6240\u6709\u8005",dataIndex:"own",width:100,render:function(e){return I.default.createElement(F.default,{uid:e})}},{title:"\u5173\u952e\u5b57",dataIndex:"key",width:100},{title:"\u6807\u7b7e",dataIndex:"tags",width:100,render:function(e){var t=[];return e&&e.length&&(t=e.map(function(e){return I.default.createElement(s.default,{key:e,color:"blue"},e)})),t}},{title:"\u64cd\u4f5c",dataIndex:"id",width:100,render:function(t,a){return I.default.createElement("span",null,I.default.createElement(c.default,{key:"edit",icon:"edit",onClick:function(){return e.onEditClick(a)}},"\u7f16\u8f91"),I.default.createElement(c.default,{key:"delete",icon:"delete",onClick:function(){return e.onDeleteClick(a)}},"\u5220\u9664"))}}];return I.default.createElement(S.default,null,I.default.createElement(T,(0,d.default)({},m,{label:"\u6536\u5f55\u4fe1\u606f\u6743\u91cd\u6a21\u5f0f"}),f("info_weight",{initialValue:l.info_weight,rules:[{required:!0}]})(I.default.createElement(_,{name:"radiogroup"},I.default.createElement(C.default,{value:0},"\u4fdd\u6301\u6536\u5f55\u4fe1\u606f\u7684\u6743\u91cd"),I.default.createElement(C.default,{value:1},"\u9ed8\u8ba4\u4fe1\u606f\u7684\u6743\u91cd0")))),I.default.createElement(T,(0,d.default)({},m,{label:"\u8bbf\u95ee\u6807\u8bc6"}),f("flags",{initialValue:h,rules:[{required:!1,message:"\u591a\u4e2a\u503c\u4f7f\u7528\u7a7a\u683c\u5206\u5272"}]})(I.default.createElement(i.default,{placeholder:"\u8bf7\u8f93\u5165\u8bbf\u95ee\u6807\u8bc6\uff0c\u591a\u4e2a\u503c\u4f7f\u7528\u7a7a\u683c\u5206\u5272"}))),1===n.kind&&I.default.createElement(u.default,{style:{marginTop:16},type:"inner",title:"\u6536\u96c6\u89c4\u5219",extra:I.default.createElement(c.default,{icon:"plus",type:"primary",onClick:function(){return e.onAddClick()}},"\u65b0\u5efa")},I.default.createElement(o.default,{columns:v,dataSource:p})),I.default.createElement(r.default,{title:"\u7f16\u8f91\u89c4\u5219",width:720,placement:"right",onClose:this.onClose,maskClosable:!0,visible:this.state.visible,style:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:53}},this.state.visible&&I.default.createElement(x.default,{data:this.state.rule,callback:this.onEditRule})))}}]),t}(I.PureComponent),M=w))||M)||M);t.default=V},UBXd:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var r=l(a("5rEg")),u=l(a("2Taf")),o=l(a("vZ4D")),i=l(a("l4Ni")),d=l(a("ujKo")),c=l(a("MhPg"));a("y8nQ");var s,f,p,m,g=l(a("Vl3Y")),h=n(a("q1tI")),v=a("MuoO"),y=a("6LfW"),k=a("w7Oj"),C=a("4QLA"),E=(s=(0,v.connect)(function(e){return{groupManage:e.groupManage,columnManage:e.columnManage}}),f=g.default.create(),s(p=f((m=function(e){function t(){var e,a;(0,u.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,i.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(n))),a.state={searchObj:{}},a.onResetFormClick=function(){a.props.form.resetFields(),a.props.dispatch({type:"groupManage/saveSearch",payload:{}}),a.props.dispatch({type:"groupManage/fetch"})},a.onOrgChange=function(){},a.onSearchFormSubmit=function(e){e&&e.preventDefault();var t=a.props.form.getFieldsValue();"string"===typeof t.flags&&(t.flags=t.flags.split(/\s+/)),a.props.callback(t)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"columnManage/queryColumnTree"})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.searchObj;return h.default.createElement(k.SearchCard,{form:this.props.form,onSearch:this.onSearchFormSubmit},h.default.createElement(k.SearchItem,{label:"\u5173\u952e\u5b57"},e("key",{rules:[{message:"\u8bf7\u8f93\u5165\u4fe1\u606f\u7ba1\u7406\u90e8\u5206\u540d\u79f0"}]})(h.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165\u4fe1\u606f\u7ba1\u7406\u90e8\u5206\u540d\u79f0"}))),h.default.createElement(k.SearchItem,{label:"\u7ec4\u7ec7"},e("org",{initialValue:t.org})(h.default.createElement(C.OrgSelect,null))),h.default.createElement(k.SearchItem,{label:"\u6240\u6709\u8005\u7f16\u53f7"},e("own",{rules:[{message:"\u8bf7\u8f93\u5165\u6240\u6709\u8005\u7f16\u53f7"}]})(h.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165\u6240\u6709\u8005\u7f16\u53f7"}))),h.default.createElement(k.SearchItem,{label:"\u72b6\u6001"},e("status",{initialValue:[0],rules:[{required:!1,message:"\u9009\u62e9\u72b6\u6001"}]})(h.default.createElement(y.DicSelect,{pcode:"cms$#infoGroup",vmode:"int",selectProps:{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9"}}))),h.default.createElement(k.SearchItem,{label:"\u8bbf\u95ee\u6807\u8bc6"},e("flags",{rules:[{required:!1,message:"\u8f93\u5165\u8bbf\u95ee\u6807\u8bc6"}]})(h.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165\u8bbf\u95ee\u6807\u8bc6,\u591a\u4e2a\u8bbf\u95ee\u6807\u8bc6\u7528\u7a7a\u683c\u5206\u5272"}))))}}]),t}(h.PureComponent),p=m))||p)||p);t.default=E},e3ji:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("IzEo");var u=l(a("bx4M")),o=l(a("2Taf")),i=l(a("vZ4D")),d=l(a("l4Ni")),c=l(a("ujKo")),s=l(a("MhPg"));a("FJo9");var f,p,m,g=l(a("L41K")),h=n(a("q1tI")),v=a("MuoO"),y=l(a("5swM")),k=l(a("Inr9")),C=g.default.Step,E=(f=(0,v.connect)(function(e){return{groupManage:e.groupManage}}),f((m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(n))),a.onModalCancelClick=function(){a.props.dispatch({type:"groupManage/changeFormVisible",payload:!1}),a.props.callback()},a.onModalOKClick=function(){setTimeout(function(){var e=a.props.groupManage.step;0===e&&a.step1(),1===e&&a.step2()},1)},a.setStep1Submit=function(e){a.step1=e},a.setStep2Submit=function(e){a.step2=e},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.callback;this.props.dispatch({type:"groupManage/loadForm",payload:{id:t,callback:a}})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"groupManage/saveFormCtrlData",payload:{}}),e({type:"groupManage/saveFormData",payload:{}})}},{key:"getCurrentStep",value:function(){var e=this.props.location,t=e.pathname,a=t.split("/");switch(a[a.length-1]){case"desc":return 0;case"ctrl":return 1;default:return 0}}},{key:"render",value:function(){var e=this.props,t=e.groupManage,a=t.formTitle,l=t.formVisible,n=t.submitting,o=t.step,i=e.id;return h.default.createElement(r.default,{title:a,visible:l,width:"70%",maskClosable:!1,confirmLoading:n,destroyOnClose:!0,onOk:this.onModalOKClick,onCancel:this.onModalCancelClick,style:{top:20},bodyStyle:{maxWidth:1280}},h.default.createElement(u.default,{title:h.default.createElement(g.default,{current:o},h.default.createElement(C,{title:"\u57fa\u7840\u4fe1\u606f"}),h.default.createElement(C,{title:"\u63a7\u5236\u53c2\u6570"})),bodyStyle:{height:500,overflowY:"auto",width:"100%"},style:{width:"100%"}},l&&0===o&&h.default.createElement(y.default,{id:i,callback:this.setStep1Submit}),l&&1===o&&h.default.createElement(k.default,{id:i,callback:this.setStep2Submit})))}}]),t}(h.PureComponent),p=m))||p);t.default=E},e8a9:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=l(a("bx4M")),u=l(a("p0pE"));a("Awhp");var o=l(a("KrTs"));a("qVdP");var i=l(a("jsC+"));a("+L6B");var d=l(a("2/Rp"));a("lUTK");var c=l(a("BvKs"));a("Pwec");var s=l(a("CtXQ"));a("2qtc");var f=l(a("kLXV")),p=l(a("2Taf")),m=l(a("vZ4D")),g=l(a("l4Ni")),h=l(a("ujKo")),v=l(a("rlhR")),y=l(a("MhPg"));a("y8nQ");var k,C,E,b,M=l(a("Vl3Y")),w=n(a("q1tI")),S=a("MuoO"),I=a("eO8H"),D=l(a("LeT2")),x=l(a("XZXw")),O=a("+n12"),F=l(a("e3ji")),T=l(a("UBXd")),_=(k=(0,S.connect)(function(e){return{groupManage:e.groupManage,columnManage:e.columnManage,loading:e.loading.models.groupManage}}),C=M.default.create(),k(E=C((b=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,g.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(n))),a.state={dataForm:!1},a.onItemViewClick=function(){},a.onTableChange=function(e){a.props.dispatch({type:"groupManage/fetch",pagination:{current:e.current,pageSize:e.pageSize}})},a.onSearch=function(e){a.props.dispatch({type:"groupManage/fetch",payload:e})},a.onDataFormCallback=function(e){a.setState({dataForm:!1,dataFormID:""}),e&&"ok"===e&&a.props.dispatch({type:"groupManage/fetch"})},a.onAddClick=function(){a.setState({dataForm:!0,dataFormID:""}),a.showStep(0)},a.onItemDescClick=function(e){a.setState({dataForm:!0,dataFormID:e}),a.showStep(0)},a.onItemCtrlClick=function(e){a.setState({dataForm:!0,dataFormID:e}),a.showStep(1)},a.onStopOKClick=function(e){a.props.dispatch({type:"groupManage/stop",payload:e})},a.onItemStopClick=function(e){f.default.confirm({title:"\u786e\u5b9a\u8981\u53d1\u5e03\u4fe1\u606f\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onStopOKClick.bind((0,v.default)(a),e)})},a.onStartOKClick=function(e){a.props.dispatch({type:"groupManage/start",payload:e})},a.onItemStartClick=function(e){f.default.confirm({title:"\u786e\u5b9a\u8981\u5f00\u59cb\u6536\u96c6\u4fe1\u606f\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onStartOKClick.bind((0,v.default)(a),e)})},a.onRecoverOKClick=function(e){a.props.dispatch({type:"groupManage/recover",payload:e})},a.onItemRecoverClick=function(e){f.default.confirm({title:"\u786e\u5b9a\u8981\u6062\u590d\u4fe1\u606f\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onRecoverOKClick.bind((0,v.default)(a),e)})},a.onDelOKClick=function(e){a.props.dispatch({type:"groupManage/del",payload:e})},a.onItemDeleteClick=function(e){f.default.confirm({title:"\u786e\u5b9a\u5220\u9664\u8be5\u6570\u636e\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onDelOKClick.bind((0,v.default)(a),e)})},a.onDestroyOKClick=function(e){a.props.dispatch({type:"groupManage/destroy",payload:e})},a.onItemDestroyClick=function(e){f.default.confirm({title:"\u786e\u5b9a\u5f7b\u5e95\u5220\u9664\u8be5\u6570\u636e\u5417\uff1f\u5f7b\u5e95\u5220\u9664\u540e\u4e0d\u80fd\u6062\u590d\u3002",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onDestroyOKClick.bind((0,v.default)(a),e)})},a.showStep=function(e){a.props.dispatch({type:"groupManage/saveStep",payload:e}),a.props.dispatch({type:"groupManage/saveFormCtrlData",payload:{}}),a.props.dispatch({type:"groupManage/changeFormVisible",payload:!0})},a.handleMenuClick=function(e,t){switch(e){case"info":break;case"desc":a.onItemDescClick(t);break;case"ctrl":a.onItemCtrlClick(t);break;case"start":a.onItemStartClick(t);break;case"stop":a.onItemStopClick(t);break;case"del":a.onItemDeleteClick(t);break;case"recover":a.onItemRecoverClick(t);break;case"destroy":a.onItemDestroyClick(t);break;default:}},a.renderDataForm=function(){if(a.state.dataForm)return w.default.createElement(F.default,{id:a.state.dataFormID,callback:a.onDataFormCallback})},a.renderMenu=function(e,t){return w.default.createElement(c.default,{onClick:function(t){var l=t.key;return a.handleMenuClick(l,e)}},1===t.status.status&&w.default.createElement(c.default.Item,{key:"info"},w.default.createElement(I.Link,{to:"./groups/".concat(e,"/infos")},w.default.createElement(s.default,{type:"profile"}),"\u4fe1\u606f\u660e\u7ec6")),t.status.status>=0&&w.default.createElement(c.default.Item,{key:"desc"},w.default.createElement(s.default,{type:"edit"}),"\u4fee\u6539"),t.status.status>=0&&w.default.createElement(c.default.Item,{key:"ctrl"},w.default.createElement(s.default,{type:"setting"}),"\u63a7\u5236\u53c2\u6570"),0===t.status.status&&w.default.createElement(c.default.Item,{key:"start"},w.default.createElement(s.default,{type:"caret-right"}),"\u5f00\u59cb\u6536\u96c6"),1===t.status.status&&w.default.createElement(c.default.Item,{key:"stop"},w.default.createElement(s.default,{type:"pause-circle"}),"\u6682\u505c\u6536\u96c6"),t.status.status>=0&&w.default.createElement(c.default.Item,{key:"del"},w.default.createElement(s.default,{type:"delete"}),"\u5220\u9664"),-1===t.status.status&&w.default.createElement(c.default.Item,{key:"recover"},w.default.createElement(s.default,{type:"reload"}),"\u6062\u590d"),-1===t.status.status&&w.default.createElement(c.default.Item,{key:"destroy"},w.default.createElement(s.default,{type:"close"}),"\u5f7b\u5e95\u5220\u9664"))},a}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"groupManage/saveSearch",payload:{}}),e({type:"groupManage/fetch"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,l=t.groupManage.data,n=l.list,c=l.pagination,f=[{title:"\u64cd\u4f5c",dataIndex:"group_id",fixed:"left",width:100,render:function(t,a){return w.default.createElement(i.default,{overlay:e.renderMenu(t,a)},w.default.createElement(d.default,null,"\u64cd\u4f5c ",w.default.createElement(s.default,{type:"down"})))}},{title:"\u7ec4\u540d\u79f0",dataIndex:"desc.name",fixed:"left",render:function(t,a){return w.default.createElement("span",{onClick:e.onItemViewClick(a)},t)}},{title:"\u77ed\u540d\u79f0",dataIndex:"desc.short_name",width:100,render:function(t,a){return w.default.createElement("span",{onClick:e.onItemViewClick(a)},t)}},{title:"\u8bbf\u95ee\u6807\u8bc6",dataIndex:"ctl_param.flags",width:100,render:function(t,a){return w.default.createElement("span",{onClick:e.onItemViewClick(a)},t.join(" "))}},{title:"\u4fe1\u606f\u6570\u91cf",dataIndex:"status.info_num",width:100},{title:"\u6240\u5c5e\u7ec4\u7ec7",dataIndex:"desc.org",width:200},{title:"\u6240\u5c5e\u4e2a\u4eba",dataIndex:"desc.owner",width:100},{title:"\u72b6\u6001",dataIndex:"status.status",width:100,render:function(e){switch(e){case-1:return w.default.createElement(o.default,{status:"default",text:"\u5df2\u5220\u9664"});case 0:return w.default.createElement(o.default,{status:"processing",text:"\u505c\u6b62\u6536\u96c6"});case 1:return w.default.createElement(o.default,{status:"success",text:"\u6b63\u5e38"});default:return w.default.createElement(o.default,{status:"Warning",text:"\u672a\u77e5"})}}},{title:"\u521b\u5efa\u7528\u6237",dataIndex:"operator.cretator",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"operator.cre_time",width:200,render:function(e){return w.default.createElement("span",null," ",(0,O.parseUtcTime)(e)," ")}}],p=(0,u.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return w.default.createElement("span",null," \u5171 ",e,"\u6761 ")}},c);return w.default.createElement(x.default,{title:"\u4fe1\u606f\u7ec4\u7ba1\u7406"},w.default.createElement(r.default,{bordered:!1},w.default.createElement(T.default,{callback:this.onSearch}),w.default.createElement(D.default,{loading:a,title:function(){return w.default.createElement(d.default,{icon:"plus",type:"primary",onClick:function(){return e.onAddClick()}},"\u65b0\u5efa")},rowKey:function(e){return e.group_id},dataSource:n,columns:f,pagination:p,onChange:this.onTableChange,scroll:{x:1400}})),this.renderDataForm())}}]),t}(w.PureComponent),E=b))||E)||E);t.default=_},vqhc:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp"));a("nRaC");var u=l(a("5RzL"));a("5NDa");var o=l(a("5rEg")),i=l(a("jehZ")),d=l(a("p0pE")),c=l(a("2Taf")),s=l(a("vZ4D")),f=l(a("l4Ni")),p=l(a("ujKo")),m=l(a("MhPg"));a("y8nQ");var g,h,v,y,k=l(a("Vl3Y")),C=n(a("q1tI")),E=a("MuoO"),b=a("4QLA"),M=k.default.Item,w=(g=(0,E.connect)(function(e){return{columnManage:e.columnManage}}),h=k.default.create(),g(v=h((y=function(e){function t(e){var a;(0,c.default)(this,t),a=(0,f.default)(this,(0,p.default)(t).call(this,e)),a.onChangeKind=function(e){var t=a.state.edit;t.kind=e,a.setState({edit:t})},a.onOrgChange=function(e){var t=a.state.edit.own;a.props.dispatch({type:"columnManage/queryColumnTree",org:e,owner:t,column:""})},a.onOwnChange=function(e){var t=a.state.edit.org;a.props.dispatch({type:"columnManage/queryColumnTree",org:t,owner:e.target.value,column:""})},a.onSubmit=function(){var e=a.state.columnName;a.props.form.validateFieldsAndScroll(function(t,l){if(!t){var n=(0,d.default)({},l),r=a.props.callback;""===n.tags?n.tags=[]:n.tags&&"string"===typeof n.tags&&(n.tags=n.tags.split(/\s+/));var u=a.state.edit.id;u&&(n.id=u),n.column_id===a.state.edit.column_id?n.column_name=a.state.edit.column_name:n.column_id&&e&&""!==e&&(n.column_name=e),r(n)}})},a.onClomunChange=function(e,t){a.setState({columnName:t[0]})};var l=e.data;return a.state={edit:l,columnName:""},a}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.data;this.props.dispatch({type:"columnManage/queryColumnTree",org:e.org,owner:e.own})}},{key:"render",value:function(){var e=this.state.edit,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:14}}},l="";return e.tags&&(l=e.tags.join(" ")),C.default.createElement(k.default,null,C.default.createElement(M,(0,i.default)({},a,{label:"\u7ec4\u7ec7"}),t("org",{initialValue:e.org,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u7ec4\u7ec7\u7f16\u53f7"}]})(C.default.createElement(b.OrgSelect,{onChange:this.onOrgChange}))),C.default.createElement(M,(0,i.default)({},a,{label:"\u6240\u6709\u8005"}),t("own",{initialValue:e.own,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6240\u6709\u8005\u7f16\u53f7"}]})(C.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:"24",onChange:this.onOwnChange}))),C.default.createElement(M,(0,i.default)({},a,{label:"\u680f\u76ee"}),t("column_id",{initialValue:e.column_id,rules:[{required:!1}]})(C.default.createElement(u.default,{style:{width:"100%"},treeData:this.props.columnManage.treeData,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"\u8bf7\u9009\u62e9\u680f\u76ee",treeDefaultExpandAll:!0,allowClear:!0,showSearch:!0,onChange:this.onClomunChange}))),C.default.createElement(M,(0,i.default)({},a,{label:"\u5173\u952e\u5b57"}),t("key",{initialValue:e.key,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}]})(C.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:"100"}))),C.default.createElement(M,(0,i.default)({},a,{label:"\u6807\u7b7e"}),t("tags",{initialValue:l,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6807\u7b7e"}]})(C.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\uff0c\u591a\u4e2a\u6807\u7b7e\u4f7f\u7528\u7a7a\u683c\u5206\u5272",maxLength:"100"}))),C.default.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},C.default.createElement(r.default,{onClick:this.onSubmit,type:"primary"},"\u786e\u5b9a")))}}]),t}(C.PureComponent),v=y))||v)||v);t.default=w}}]);