(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[60],{S6FO:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("BoS7");var c=l(a("Sdc0"));a("jCWc");var o=l(a("kPKH"));a("giR+");var i=l(a("fyUT")),d=l(a("jehZ"));a("5NDa");var u=l(a("5rEg")),s=l(a("p0pE")),f=l(a("2Taf")),p=l(a("vZ4D")),m=l(a("l4Ni")),y=l(a("ujKo")),h=l(a("MhPg"));a("7Kak");var k=l(a("9yH6"));a("y8nQ");var v=l(a("Vl3Y"));a("OaEy");var E,T,g,C,b=l(a("2fM7")),D=n(a("q1tI")),I=a("MuoO"),w=b.default.Option,S=v.default.Item,F=k.default.Group,x={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:14}}},O=(E=(0,I.connect)(function(e){return{interactionType:e.interactionType}}),T=v.default.create(),E(g=T((C=function(e){function t(e){var a;return(0,f.default)(this,t),a=(0,m.default)(this,(0,y.default)(t).call(this,e)),a.onModalCancelClick=function(){a.props.dispatch({type:"interactionType/changeFormVisible",payload:!1}),a.props.callback()},a.onModalOKClick=function(){a.formSubmit()},a.formSubmit=function(){a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var l=(0,s.default)({},t);a.props.dispatch({type:"interactionType/submitDesc",payload:l})}})},a.inputElement=D.default.createRef(),a}return(0,h.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.callback;this.props.dispatch({type:"interactionType/loadForm",payload:{id:t,callback:a}})}},{key:"render",value:function(){var e=this.props,t=e.interactionType,a=t.formTitle,l=t.formVisible,n=t.formData,s=t.submitting,f=e.form.getFieldDecorator,p=e.id,m=n.desc?n.desc:{};return D.default.createElement(r.default,{title:a,visible:l,width:"70%",maskClosable:!1,confirmLoading:s,destroyOnClose:!0,onOk:this.onModalOKClick,onCancel:this.onModalCancelClick,style:{top:20},bodyStyle:{maxWidth:1280,height:500,overflowY:"auto"}},D.default.createElement(v.default,null,D.default.createElement(S,(0,d.default)({},x,{label:"\u7f16\u53f7"}),!p&&f("code",{initialValue:m.code,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f16\u53f7"}]})(D.default.createElement(u.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:100})),p&&m.code),D.default.createElement(S,(0,d.default)({},x,{label:"\u540d\u79f0"}),f("name",{initialValue:m.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(D.default.createElement(u.default,{placeholder:"\u8bf7\u8f93\u5165",maxLength:100}))),D.default.createElement(S,(0,d.default)({},x,{label:"\u6a21\u5f0f"}),f("mode",{initialValue:m.mode,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6a21\u5f0f"}]})(D.default.createElement(b.default,null,D.default.createElement(w,{value:0},"\u7d2f\u8ba1\u8ba1\u6570"),D.default.createElement(w,{value:1},"\u6700\u540e\u8bb0\u5f55")))),D.default.createElement(S,(0,d.default)({label:"\u5206\u6570"},x),D.default.createElement(o.default,{span:11},D.default.createElement(S,{help:"\u8f93\u5165\u6700\u5c0f\u5206\u6570"},f("min",{initialValue:m.min,rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]})(D.default.createElement(i.default,null)))),D.default.createElement(o.default,{span:2},D.default.createElement("span",{style:{display:"inline-block",width:"100%",textAlign:"center"}},"-")),D.default.createElement(o.default,{span:11},D.default.createElement(S,{help:"\u6700\u5927\u5206\u6570"},f("max",{initialValue:m.max,rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]})(D.default.createElement(i.default,null))))),D.default.createElement(S,(0,d.default)({},x,{label:"\u662f\u5426\u5f00\u653e"}),f("is_public",{initialValue:m.is_public,rules:[{required:!0}]})(D.default.createElement(F,{name:"radiogroup"},D.default.createElement(k.default,{value:1},"\u662f"),D.default.createElement(k.default,{value:0},"\u5426")))),D.default.createElement(S,(0,d.default)({},x,{label:"\u662f\u5426\u542f\u7528\u5e73\u5747\u503c"}),f("is_agv",{initialValue:m.is_agv,valuePropName:"checked",rules:[{required:!0}]})(D.default.createElement(c.default,{checkedChildren:"\u662f",unCheckedChildren:"\u5426"})))))}}]),t}(D.PureComponent),g=C))||g)||g);t.default=O},j4Ho:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=l(a("bx4M")),c=l(a("p0pE"));a("Awhp");var o=l(a("KrTs"));a("qVdP");var i=l(a("jsC+"));a("+L6B");var d=l(a("2/Rp"));a("lUTK");var u=l(a("BvKs"));a("Pwec");var s=l(a("CtXQ"));a("5NDa");var f=l(a("5rEg"));a("2qtc");var p=l(a("kLXV")),m=l(a("2Taf")),y=l(a("vZ4D")),h=l(a("l4Ni")),k=l(a("ujKo")),v=l(a("rlhR")),E=l(a("MhPg"));a("y8nQ");var T,g,C,b,D=l(a("Vl3Y")),I=n(a("q1tI")),w=a("MuoO"),S=l(a("LeT2")),F=l(a("XZXw")),x=l(a("S6FO")),O=a("w7Oj"),M=a("6LfW"),V=(T=(0,w.connect)(function(e){return{interactionType:e.interactionType,loading:e.loading.models.interactionType}}),g=D.default.create(),T(C=g((b=function(e){function t(){var e,a;(0,m.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,h.default)(this,(e=(0,k.default)(t)).call.apply(e,[this].concat(n))),a.state={dataFormID:""},a.onOrgChange=function(e){a.setState({value:e.target.value}),a.props.dispatch({type:"interactionType/queryColumnTree",org:e.target.value})},a.onTableChange=function(e){a.props.dispatch({type:"interactionType/fetch",pagination:{current:e.current,pageSize:e.pageSize}})},a.onResetFormClick=function(){a.props.form.resetFields(),a.props.dispatch({type:"interactionType/saveSearch",payload:{}}),a.refreshTree(),a.props.dispatch({type:"interactionType/fetch"})},a.onSearchFormSubmit=function(e){e&&e.preventDefault();var t=a.props.form.getFieldsValue();a.props.dispatch({type:"interactionType/fetch",payload:t})},a.onDataFormCallback=function(e){a.setState({dataForm:!1,dataFormID:""}),e&&"ok"===e&&(a.props.dispatch({type:"interactionType/fetch"}),a.refreshTree())},a.onDataDetailCallback=function(){},a.onItemDetailClick=function(){},a.onAddClick=function(){a.setState({dataForm:!0,dataFormID:""}),a.props.dispatch({type:"interactionType/saveFormData",payload:{}}),a.props.dispatch({type:"interactionType/saveFormID",payload:""})},a.onItemDescClick=function(e){a.setState({dataForm:!0,dataFormID:e})},a.onDelOKClick=function(e){a.props.dispatch({type:"interactionType/del",payload:e}),a.refreshTree()},a.onItemDeleteClick=function(e){p.default.confirm({title:"\u786e\u5b9a\u5220\u9664\u8be5\u6570\u636e\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onDelOKClick.bind((0,v.default)(a),e)})},a.onItemLockClick=function(e){p.default.confirm({title:"\u786e\u5b9a\u9501\u5b9a\u8be5\u680f\u76ee\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.props.dispatch({type:"interactionType/lock",payload:e}),a.refreshTree()}})},a.onItemUnLockClick=function(e){p.default.confirm({title:"\u786e\u5b9a\u89e3\u9501\u8be5\u680f\u76ee\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.props.dispatch({type:"interactionType/unlock",payload:e}),a.refreshTree()}})},a.onItemRecoverClick=function(e){p.default.confirm({title:"\u786e\u5b9a\u8981\u6062\u590d\u680f\u76ee\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.props.dispatch({type:"interactionType/recover",payload:e}),a.refreshTree()}})},a.onItemDestroyClick=function(e){p.default.confirm({title:"\u786e\u5b9a\u5f7b\u5e95\u5220\u9664\u8be5\u680f\u76ee\u5417\uff1f\u5f7b\u5e95\u5220\u9664\u540e\u4e0d\u80fd\u6062\u590d\u3002",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.props.dispatch({type:"interactionType/destroy",payload:e}),a.refreshTree()}})},a.refreshTree=function(){a.props.dispatch({type:"interactionType/queryColumnTree",org:a.state.value})},a.handleMenuClick=function(e,t){switch(e){case"desc":a.onItemDescClick(t);break;case"del":a.onItemDeleteClick(t);break;case"lock":a.onItemLockClick(t);break;case"unlock":a.onItemUnLockClick(t);break;case"recover":a.onItemRecoverClick(t);break;case"destroy":a.onItemDestroyClick(t);break;default:}},a.renderDataForm=function(){if(a.state.dataForm)return I.default.createElement(x.default,{id:a.state.dataFormID,callback:a.onDataFormCallback})},a.renderDataDetail=function(){},a}return(0,E.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"interactionType/saveSearch",payload:{status:[0,1]}}),this.props.dispatch({type:"interactionType/fetch"}),this.refreshTree()}},{key:"renderForm",value:function(){var e=this.props.form.getFieldDecorator;return I.default.createElement(O.SearchCard,{form:this.props.form,onSearch:this.onSearchFormSubmit},I.default.createElement(O.SearchItem,{label:"\u5173\u952e\u5b57"},e("key",{rules:[{message:"\u8bf7\u8f93\u5165\u680f\u76ee\u90e8\u5206\u540d\u79f0"}]})(I.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165\u680f\u76ee\u90e8\u5206\u540d\u79f0"}))),I.default.createElement(O.SearchItem,{label:"\u72b6\u6001"},e("status",{initialValue:[0,1],rules:[{required:!1,message:"\u9009\u62e9\u72b6\u6001"}]})(I.default.createElement(M.DicSelect,{vmode:"int",pcode:"cms$#inttype$#status",selectProps:{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9"}}))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,l=t.interactionType.data,n=l.list,f=l.pagination,p=[{title:"\u64cd\u4f5c",fixed:"left",width:100,render:function(t,a){return I.default.createElement(i.default,{overlay:I.default.createElement(u.default,{onClick:function(t){var l=t.key;return e.handleMenuClick(l,a.desc.code)}},0===a.desc.status&&I.default.createElement(u.default.Item,{key:"desc"},I.default.createElement(s.default,{type:"edit"}),"\u4fee\u6539"),0===a.desc.status&&I.default.createElement(u.default.Item,{key:"del"},I.default.createElement(s.default,{type:"delete"}),"\u5220\u9664"),0===a.desc.status&&I.default.createElement(u.default.Item,{key:"lock"},I.default.createElement(s.default,{type:"lock"}),"\u9501\u5b9a"),1===a.desc.status&&I.default.createElement(u.default.Item,{key:"unlock"},I.default.createElement(s.default,{type:"unlock"}),"\u89e3\u9501"),-1===a.desc.status&&I.default.createElement(u.default.Item,{key:"recover"},I.default.createElement(s.default,{type:"reload"}),"\u6062\u590d"),-1===a.desc.status&&I.default.createElement(u.default.Item,{key:"destroy"},I.default.createElement(s.default,{type:"close"}),"\u5f7b\u5e95\u5220\u9664"))},I.default.createElement(d.default,null,"\u64cd\u4f5c ",I.default.createElement(s.default,{type:"down"})))}},{title:"\u540d\u79f0",dataIndex:"desc.name",width:100,render:function(t,a){return I.default.createElement("span",{onClick:function(){return e.onItemDetailClick(a.column_id)}},t)}},{title:"\u7f16\u7801",dataIndex:"desc.code",width:100},{title:"\u72b6\u6001",dataIndex:"desc.status",width:100,render:function(e){var t=["default","processing","success","warning","warning","success"],a="error";return e>=-1&&(a=t[e+1]?t[e+1]:a),I.default.createElement(M.DicShow,{pcode:"cms$#inttype$#status",code:[e],show:function(e){return I.default.createElement(o.default,{key:e,status:a,text:e})}})}},{title:"\u6a21\u5f0f",dataIndex:"desc.mode",render:function(e){return I.default.createElement(M.DicShow,{pcode:"cms$#inttype$#mode",code:[e||0]})}},{title:"\u662f\u5426\u542f\u7528\u5e73\u5747\u503c",dataIndex:"desc.is_agv",render:function(e){return I.default.createElement(M.DicShow,{pcode:"cms$#inttype$#avg",code:[e||!1]})}},{title:"\u662f\u5426\u516c\u5f00",dataIndex:"desc.is_public",render:function(e){return I.default.createElement(M.DicShow,{pcode:"cms$#inttype$#public",code:[e||0]})}}],m=(0,c.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return I.default.createElement("span",null,"\u5171",e,"\u6761")}},f);return I.default.createElement(F.default,{title:"\u4e92\u52a8\u7c7b\u578b\u7ba1\u7406\u7ba1\u7406"},I.default.createElement(r.default,{bordered:!1},this.renderForm(),I.default.createElement(S.default,{title:function(){return I.default.createElement(d.default,{icon:"plus",type:"primary",onClick:function(){return e.onAddClick()}},"\u65b0\u5efa")},loading:a,rowKey:function(e){return e.desc.code},dataSource:n,columns:p,pagination:m,onChange:this.onTableChange})),this.renderDataForm(),this.renderDataDetail())}}]),t}(I.PureComponent),C=b))||C)||C);t.default=V}}]);