(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"1aO0":function(e,t,a){e.exports={tableList:"web\\pages\\-mall\\-commodity\\-form\\-specification-table\\index-tableList"}},"2SD5":function(e,t,a){e.exports=a.p+"static/stand.057b6167.png"},"5Hsz":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV")),o=n(a("p0pE")),d=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),c=n(a("ujKo")),s=n(a("MhPg")),f=l(a("q1tI")),m=n(a("kZnd")),p=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,i.default)(this,(0,c.default)(t).call(this,e)),a.onCancelClick=function(){var e=a.props.callback;e()},a.onOKClick=function(){var e=a.state.data;a.props.onSubmit(e)},a.handleFormChange=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var l=a.state.data,n=(0,o.default)({},l);n[t]=e[t].value,a.setState({data:n});var r=a.props.onChange;r(n)}},a.state={data:e.stockData?e.stockData:{}},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.visible,l=e.onCancel,n=this.state.data;return f.default.createElement(r.default,{title:t,width:347,visible:a,maskClosable:!1,destroyOnClose:!0,onOk:this.onOKClick,onCancel:l,style:{top:20},bodyStyle:{maxHeight:"calc( 100vh - 158px )",overflowY:"auto"}},f.default.createElement(m.default,{data:n,onChange:this.handleFormChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"stockData"in e?(0,o.default)({},t,{data:e.stockData?e.stockData:{}}):t}}]),t}(f.PureComponent),g=p;t.default=g},"9YDM":function(e,t,a){e.exports={header:"web\\pages\\-mall\\-commodity\\-form\\-standard-modal\\index-header",title:"web\\pages\\-mall\\-commodity\\-form\\-standard-modal\\index-title",connect:"web\\pages\\-mall\\-commodity\\-form\\-standard-modal\\index-connect",connect1:"web\\pages\\-mall\\-commodity\\-form\\-standard-modal\\index-connect1",button:"web\\pages\\-mall\\-commodity\\-form\\-standard-modal\\index-button"}},CSQY:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV")),o=n(a("gWZ8")),d=n(a("p0pE")),u=n(a("2Taf")),i=n(a("vZ4D")),c=n(a("l4Ni")),s=n(a("ujKo")),f=n(a("MhPg")),m=l(a("q1tI")),p=n(a("W/dv")),g=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,c.default)(this,(0,s.default)(t).call(this,e)),a.handleOKClick=function(){var e=a.state.data;a.props.callbackPro(e)},a.handleFormChange=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var l=a.state.data,n=(0,d.default)({},l);if(n[t]=e[t].value,"norm_value"===t){for(var r=l.norm_list?l.norm_list:[],u=e.norm_value.value,i=[],c=0;c<u.length;c+=1){for(var s=!1,f=0;f<r.length;f+=1)if(r[f].name===u[c]){i=[].concat((0,o.default)(i),[r[f]]),s=!0;break}s||(i=[].concat((0,o.default)(i),[{name:u[c],code:"",price:0,stock:0,image:[]}]))}n.norm_list=i}a.setState({data:n});var m=a.props.onChange;m(n)}},a.state={data:e.dataPro?e.dataPro:{}},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.title,l=e.closeBack,n=this.state.data;return m.default.createElement(r.default,{title:a,width:1e3,visible:t,maskClosable:!1,destroyOnClose:!0,onOk:this.handleOKClick,onCancel:l,style:{top:20},bodyStyle:{maxHeight:"calc( 100vh - 158px )",overflowY:"auto"}},m.default.createElement(p.default,{data:n,onChange:this.handleFormChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"dataPro"in e?(0,d.default)({},t,{data:e.dataPro?e.dataPro:{}}):t}}]),t}(m.PureComponent),v=g;t.default=v},EF3B:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.EditableCell=t.EditableFormRow=void 0,a("giR+");var r=n(a("fyUT")),o=n(a("2Taf")),d=n(a("vZ4D")),u=n(a("l4Ni")),i=n(a("ujKo")),c=n(a("MhPg")),s=n(a("p0pE")),f=n(a("Y/ft"));a("y8nQ");var m=n(a("Vl3Y")),p=l(a("q1tI")),g=m.default.Item,v=p.default.createContext(),h=function(e){var t=e.form,a=(0,f.default)(e,["form"]);return p.default.createElement(v.Provider,{value:t},p.default.createElement("tr",a))},y=m.default.create({mapPropsToFields:function(e){var t=e.record?e.record:{};return{stock:m.default.createFormField({value:t.stock})}},onFieldsChange:function(e,t){var a=e.handleSave,l=e.record,n=(0,s.default)({},l);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r].value);a(n)},checkPrice:function(e,t){e.number>0?t():t("Price must greater than zero!")}})(h);t.EditableFormRow=y;var b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return a=(0,u.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(n))),a.renderFormItem=function(e,t){var l=!0;return"code"===e&&(l=!1),p.default.createElement(g,{style:{margin:0}},a.form.getFieldDecorator(e,{rules:[{required:l,message:"\u8bf7\u8f93\u5165".concat(t),validator:a.checkPrice}]})(p.default.createElement(r.default,{style:{width:"100%"},min:0,max:99999})))},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.editable,l=t.dataIndex,n=t.title,r=(0,f.default)(t,["editable","dataIndex","title"]);return p.default.createElement("td",r,a?p.default.createElement(v.Consumer,null,function(t){return e.form=t,e.renderFormItem(l,n)}):r.children)}}]),t}(p.PureComponent);t.EditableCell=b},IHR5:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var r=n(a("wCAj")),o=n(a("gWZ8")),d=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),c=n(a("ujKo")),s=n(a("MhPg")),f=n(a("p0pE")),m=l(a("q1tI")),p=a("ufHv"),g=n(a("1aO0"));function v(e){return e?e.map(function(e){var t=(0,f.default)({},e);return t.key||(t.key=t.name),t}):[]}var h=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,i.default)(this,(0,c.default)(t).call(this,e)),a.handleSave=function(e){var t=a.state.dataSource,l=(0,o.default)(t),n=l.findIndex(function(t){return e.key===t.key}),r=l[n];l.splice(n,1,(0,f.default)({},r,e)),a.setState({dataSource:l},function(){a.triggerChange(l)})},a.triggerChange=function(e){var t=a.props.onChange;t&&t(e)},a.renderTitle=function(e){return m.default.createElement("span",null,m.default.createElement("span",{style:{color:"#E84228",fontSize:14}},"*"),e)},a.state={dataSource:v(e.value)},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.state.dataSource,a=this.props.sname,l={body:{row:p.EditableFormRow,cell:p.EditableCell}},n=[{title:a,dataIndex:"name",editable:!1,width:"20%"},{title:"\u4ef7\u683c(\u5143)",dataIndex:"price",editable:!0,width:"15%"},{title:"\u5e93\u5b58",dataIndex:"stock",editable:!0,width:"15%"},{title:"\u5546\u54c1\u7f16\u7801",dataIndex:"goods_code",editable:!0,width:"20%"},{title:"\u89c4\u683c\u56fe\u7247",dataIndex:"image",editable:!0}],o=n.map(function(e){return e.editable?(0,f.default)({},e,{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title}}}):e});return m.default.createElement("div",{className:g.default.tableList},m.default.createElement(r.default,{components:l,bordered:!0,dataSource:t,columns:o,pagination:!1,onRow:function(t){return{record:t,handleSave:e.handleSave}}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"value"in e?(0,f.default)({},t,{dataSource:v(e.value)}):t}}]),t}(m.PureComponent);t.default=h},MhlZ:function(e,t,a){e.exports={tableList:"web\\pages\\-mall\\-product-management\\-commodity-management-tableList",tableListForm:"web\\pages\\-mall\\-product-management\\-commodity-management-tableListForm",submitButtons:"web\\pages\\-mall\\-product-management\\-commodity-management-submitButtons",searchBtn:"web\\pages\\-mall\\-product-management\\-commodity-management-searchBtn",resetBtn:"web\\pages\\-mall\\-product-management\\-commodity-management-resetBtn",createCommodity:"web\\pages\\-mall\\-product-management\\-commodity-management-createCommodity",goodsName:"web\\pages\\-mall\\-product-management\\-commodity-management-goodsName",goodsNameLeft:"web\\pages\\-mall\\-product-management\\-commodity-management-goodsNameLeft",goodsNameRight:"web\\pages\\-mall\\-product-management\\-commodity-management-goodsNameRight",goodsNameRightTitle:"web\\pages\\-mall\\-product-management\\-commodity-management-goodsNameRightTitle",goodsNameRightPrice:"web\\pages\\-mall\\-product-management\\-commodity-management-goodsNameRightPrice",stockCon:"web\\pages\\-mall\\-product-management\\-commodity-management-stockCon",operationBtn:"web\\pages\\-mall\\-product-management\\-commodity-management-operationBtn",detBtn:"web\\pages\\-mall\\-product-management\\-commodity-management-detBtn",formTitle:"web\\pages\\-mall\\-product-management\\-commodity-management-formTitle",stockTable:"web\\pages\\-mall\\-product-management\\-commodity-management-stockTable"}},QIJp:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("p0pE"));a("Pwec");var o=n(a("CtXQ"));a("5NDa");var d=n(a("5rEg"));a("5Dmo");var u=n(a("3S7+"));a("+BJd");var i=n(a("mr32")),c=n(a("gWZ8")),s=n(a("2Taf")),f=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),g=n(a("MhPg")),v=l(a("q1tI")),h=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.handleClose=function(e){var t=a.state.tags,l=t.filter(function(t){return t!==e});a.setState({ntags:l}),a.triggerChange(l)},a.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat((0,c.default)(t),[e])),a.setState({tags:t,inputVisible:!1,inputValue:""}),a.triggerChange(t)},a.saveInputRef=function(e){a.input=e},a.triggerChange=function(e){var t=a.props.onChange;t&&t(e)},a.state={tags:e.value?e.value:[],inputVisible:!1,inputValue:""},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.tags,l=t.inputVisible,n=t.inputValue;return v.default.createElement("div",null,a.map(function(t){var a=t.length>20,l=v.default.createElement(i.default,{key:t,closable:!0,onClose:function(){return e.handleClose(t)}},a?"".concat(t.slice(0,20),"..."):t);return a?v.default.createElement(u.default,{title:t,key:t},l):l}),l&&v.default.createElement(d.default,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:n,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!l&&v.default.createElement(i.default,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed",cursor:"pointer"}},v.default.createElement(o.default,{type:"plus"})," \u6dfb\u52a0\u89c4\u683c\u503c"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"value"in e?(0,r.default)({},t,{tags:e.value}):t}}]),t}(v.PureComponent),y=h;t.default=y},"W/dv":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var r=l(a("CtXQ"));a("/zsF");var o=l(a("PArb"));a("7Kak");var d=l(a("9yH6")),u=l(a("jehZ"));a("5NDa");var i=l(a("5rEg"));a("14J3");var c=l(a("BMrR"));a("jCWc");var s=l(a("kPKH")),f=l(a("2Taf")),m=l(a("vZ4D")),p=l(a("l4Ni")),g=l(a("ujKo")),v=l(a("MhPg"));a("y8nQ");var h,y,b,E=l(a("Vl3Y")),C=n(a("q1tI")),k=l(a("9DcN")),F=l(a("Y0uj")),w=l(a("QIJp")),S=l(a("IHR5")),I=l(a("hDYI")),P=l(a("Z+/l")),M=(h=E.default.create({mapPropsToFields:function(e){var t=e.data?e.data:{};return{name:E.default.createFormField({value:t.name}),goods_category_id:E.default.createFormField({value:t.goods_category_id}),des:E.default.createFormField({value:t.des}),delivery:E.default.createFormField({value:t.delivery?t.delivery:"1"}),images:E.default.createFormField({value:t.images}),norm_name:E.default.createFormField({value:t.norm_name}),norm_value:E.default.createFormField({value:t.norm_value?t.norm_value:[]}),norm_list:E.default.createFormField({value:t.norm_list?t.norm_list:[]})}},onFieldsChange:function(e,t){e.onChange(t)}}),h((b=function(e){function t(){var e,a;(0,f.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,p.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(n))),a.state={visibleStand:!1},a.onClick=function(){a.setState({visibleStand:!0})},a.handleDataFormCancel=function(){a.setState({visibleStand:!1})},a.renderStandModal=function(){if(a.state.visibleStand)return C.default.createElement(I.default,{visible:!0,onCancel:a.handleDataFormCancel})},a}return(0,v.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this,t=this.props.data;t||(t={});var a=this.props.form.getFieldDecorator,l={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:18}}},n={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}};return C.default.createElement(E.default,null,C.default.createElement(E.default.Item,null,C.default.createElement(c.default,null,C.default.createElement(s.default,{span:4,className:P.default.formTitle},C.default.createElement("span",null,"*"),"\u5546\u54c1\u4fe1\u606f"))),C.default.createElement(E.default.Item,(0,u.default)({},l,{label:"\u5546\u54c1\u540d\u79f0"}),a("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"}]})(C.default.createElement(i.default,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",maxLength:50}))),C.default.createElement(E.default.Item,(0,u.default)({},l,{label:"\u5546\u54c1\u5206\u7c7b"}),a("goods_category_id",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u5206\u7c7b"}]})(C.default.createElement(F.default,null))),C.default.createElement(E.default.Item,(0,u.default)({},l,{label:"\u5546\u54c1\u63cf\u8ff0"}),a("des",{})(C.default.createElement(i.default.TextArea,{autosize:{minRows:3,maxRows:6},placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u63cf\u8ff0",maxLength:200}))),C.default.createElement(E.default.Item,(0,u.default)({},l,{label:"\u914d\u9001"}),a("delivery",{})(C.default.createElement(d.default.Group,null,C.default.createElement(d.default,{value:"1"},"\u652f\u6301"),C.default.createElement(d.default,{value:"2"},"\u4e0d\u652f\u6301")))),C.default.createElement(E.default.Item,(0,u.default)({},l,{label:C.default.createElement("span",null,C.default.createElement("span",{style:{color:"#f5222d",fontSize:14,marginRight:4}},"*"),"\u5546\u54c1\u89c4\u683c")}),C.default.createElement("span",{style:{color:"red"}},"\u6700\u591a\u4e0a\u4f205\u5f20\u56fe\u7247"),a("images",{})(C.default.createElement(k.default,{bucket:"mall",name:"data",num:5,listType:"picture-card",accept:"image/*"}))),C.default.createElement(E.default.Item,null,C.default.createElement(o.default,null),C.default.createElement(c.default,null,C.default.createElement(s.default,{span:4,className:P.default.formTitle},"\u4ef7\u683c\u5e93\u5b58"))),C.default.createElement(E.default.Item,(0,u.default)({},l,{label:C.default.createElement("span",null,C.default.createElement(r.default,{type:"question-circle",onClick:function(){return e.onClick()}}),"\xa0 \u5546\u54c1\u89c4\u683c")}),C.default.createElement("div",{className:P.default.formBorder},C.default.createElement(E.default.Item,(0,u.default)({},n,{label:"\u89c4\u683c\u540d"}),a("norm_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89c4\u683c\u540d"}]})(C.default.createElement(i.default,{placeholder:"\u8bf7\u8f93\u5165\u89c4\u683c\u540d",style:{width:580},maxLength:50}))),C.default.createElement(E.default.Item,(0,u.default)({},n,{label:"\u89c4\u683c\u503c"}),a("norm_value",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u89c4\u683c\u503c"}]})(C.default.createElement(w.default,null))))),t.norm_name?C.default.createElement(E.default.Item,(0,u.default)({},l,{label:"\u89c4\u683c\u660e\u7ec6"}),C.default.createElement("div",{className:P.default.formBorder},a("norm_list",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u89c4\u683c\u660e\u7ec6"}]})(C.default.createElement(S.default,{sname:t.norm_name})))):null,this.renderStandModal())}}]),t}(C.PureComponent),y=b))||y),x=M;t.default=x},Y0uj:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("6UJt");var r=n(a("DFOY")),o=n(a("p0pE")),d=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),c=n(a("ujKo")),s=n(a("MhPg")),f=l(a("q1tI")),m=a("8ud7"),p="/";function g(e){return e?e.split(p):[]}var v=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,i.default)(this,(0,c.default)(t).call(this,e)),a.toTreeSelect=function(e){if(!e)return[];for(var t=[],l=0;l<e.length;l+=1){var n=(0,o.default)({},e[l],{label:e[l].name,value:e[l].key});n.children&&n.children.length>0&&(n.children=a.toTreeSelect(n.children)),t.push(n)}return t},a.handleChange=function(e){a.setState({value:e}),a.triggerChange(e)},a.triggerChange=function(e){var t=a.props.onChange;t&&t(e.join(p))},a.filter=function(e,t){return t.some(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})},a.state={value:g(e.value),data:[]},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,m.getProductClass)().then(function(t){e.setState({data:e.toTreeSelect(t)})})}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.data;return f.default.createElement(r.default,{value:t,options:a,onChange:this.handleChange,placeholder:"\u8bf7\u9009\u62e9\u5546\u54c1\u5206\u7c7b",style:{width:"100%"},showSearch:this.filter})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"value"in e?(0,o.default)({},t,{value:g(e.value)}):t}}]),t}(f.PureComponent);t.default=v},"Z+/l":function(e,t,a){e.exports={formTitle:"web\\pages\\-mall\\-commodity\\-form\\index-formTitle",formBorder:"web\\pages\\-mall\\-commodity\\-form\\index-formBorder"}},hDYI:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV"));a("+L6B");var o=n(a("2/Rp")),d=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),c=n(a("ujKo")),s=n(a("MhPg")),f=l(a("q1tI")),m=n(a("9YDM")),p=n(a("2SD5")),g=function(e){function t(){return(0,d.default)(this,t),(0,i.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.onCancel;return f.default.createElement(r.default,{title:t,width:480,visible:!0,maskClosable:!1,destroyOnClose:!0,onOk:this.onOKClick,onCancel:a,style:{top:20},footer:f.default.createElement(o.default,{className:m.default.button,onClick:a},"\u6211\u77e5\u9053\u4e86"),bodyStyle:{maxHeight:"calc( 100vh - 158px )",overflowY:"auto"}},f.default.createElement("div",null,f.default.createElement("div",{className:m.default.header},f.default.createElement("h2",{className:m.default.title},"\u5546\u54c1\u89c4\u683c\u793a\u4f8b")),f.default.createElement("div",{className:m.default.connect},f.default.createElement("p",{className:m.default.connect1},"\u5728\u5546\u54c1\u8d2d\u4e70\u9875\u9009\u62e9\u5546\u54c1\u89c4\u683c\u65f6\u663e\u793a"),f.default.createElement("p",null,"\u56fe\u4f8b\u4e2d\uff1a\u201c\u5957\u9910\u9009\u62e9\u201d\u4e3a\u89c4\u683c\u540d \u201c\u867e\u4ec1\u9c9c\u8089\u9984\u7096/\u5168\u5bb6\u798f\u9984\u7096\u201d\u4e3a\u89c4\u683c\u503c"),f.default.createElement("img",{src:p.default,alt:""}))))}}]),t}(f.PureComponent),v=g;t.default=v},kZnd:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var r=l(a("BMrR"));a("jCWc");var o=l(a("kPKH")),d=l(a("2Taf")),u=l(a("vZ4D")),i=l(a("l4Ni")),c=l(a("ujKo")),s=l(a("MhPg"));a("y8nQ");var f,m,p=l(a("Vl3Y")),g=n(a("q1tI")),v=l(a("mqWm")),h=l(a("MhlZ")),y=(f=p.default.create({mapPropsToFields:function(e){var t=e.data?e.data:{};return{norm_list:p.default.createFormField({value:t.norm_list?t.norm_list:[]})}},onFieldsChange:function(e,t){e.onChange(t)}}),f(m=function(e){function t(){return(0,d.default)(this,t),(0,i.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.data;e||(e={});var t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:18}}};return g.default.createElement(p.default,null,g.default.createElement(p.default.Item,null,g.default.createElement(r.default,null,g.default.createElement(o.default,{span:12,className:h.default.formTitle},"\u5e93\u5b58\u4fe1\u606f"))),g.default.createElement(p.default.Item,a,g.default.createElement("div",null,t("norm_list",{rules:[{required:!1,message:""}]})(g.default.createElement(v.default,null)))))}}]),t}(g.PureComponent))||m),b=y;t.default=b},mfzp:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("/zsF");var r=l(a("PArb"));a("+BJd");var o=l(a("mr32")),d=l(a("p0pE"));a("+L6B");var u=l(a("2/Rp"));a("14J3");var i=l(a("BMrR"));a("6UJt");var c=l(a("DFOY"));a("jCWc");var s=l(a("kPKH")),f=l(a("jehZ"));a("5NDa");var m=l(a("5rEg"));a("miYZ");var p=l(a("tsqr"));a("2qtc");var g=l(a("kLXV")),v=l(a("2Taf")),h=l(a("vZ4D")),y=l(a("l4Ni")),b=l(a("ujKo")),E=l(a("rlhR")),C=l(a("MhPg"));a("y8nQ");var k,F,w,S,I=l(a("Vl3Y")),P=l(a("q1tI")),M=a("MuoO"),x=l(a("jcFm")),D=l(a("LeT2")),N=l(a("5Hsz")),_=l(a("MhlZ")),A=a("6LfW"),T=l(a("qpOL")),j=l(a("CSQY")),O=(k=I.default.create(),F=(0,M.connect)(function(e){return{productModule:e.productModule,storeApply:e.store}}),k(w=F((S=function(e){function t(){var e,a;(0,v.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,y.default)(this,(e=(0,b.default)(t)).call.apply(e,[this].concat(n))),a.queryForm=null,a.onTableChange=function(e){var t=a.props.productModule.store;a.props.dispatch({type:"productModule/getProductList",store:t.store_id,pagination:{current:e.current,pageSize:e.pageSize}})},a.onSearchFormSubmit=function(e){e&&e.preventDefault();var t=a.props.form.getFieldsValue();t.category_id&&t.category_id.length>0&&(t.category_id=t.category_id[t.category_id.length-1]),a.props.dispatch({type:"productModule/fetch",payload:t})},a.onBtnClearClick=function(){a.props.form.resetFields();var e=a.props.productModule.store;a.props.dispatch({type:"productModule/saveSearch",payload:{}}),a.props.dispatch({type:"productModule/getProductList",store:e.store_id})},a.onItemUpClick=function(e){a.props.dispatch({type:"productModule/changeUpstatus",payload:e})},a.onItemDisableClick=function(e){a.props.dispatch({type:"productModule/changeStatus",payload:e})},a.onClickAdd=function(){a.props.dispatch({type:"productModule/loadFormPro",payload:{type:"A",id:""}})},a.onItemDelClick=function(e){var t=a.props.productModule.store;g.default.confirm({title:"\u786e\u5b9a\u5220\u9664\u3010".concat(e.name,"\u3011\u5546\u54c1\uff1f"),okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:a.onDelOKClick.bind((0,E.default)(a),t,e.goods_id)})},a.handleModalChange=function(e){a.props.dispatch({type:"productModule/saveFormDataPro",payload:e})},a.stockEditClick=function(e){a.props.dispatch({type:"productModule/getProductStock",payload:e})},a.handleChange=function(e){a.props.dispatch({type:"productModule/saveStockData",payload:e})},a.renderProEdit=function(){var e=a.props.productModule,t=e.formTitlePro,l=e.formVisiblePro,n=e.dataPro;return P.default.createElement(j.default,{visible:l,title:t,dataPro:n,onChange:a.handleModalChange,callbackPro:a.onProEditCallback,closeBack:a.onProEditClose})},a.handleDataFormSubmit=function(e){a.props.dispatch({type:"productModule/submitStock",payload:e})},a.handleDataFormCancel=function(){a.props.dispatch({type:"productModule/changeFormVisibleStock",payload:!1})},a.onDataFormCallback=function(e){e&&"ok"===e&&a.props.dispatch({type:"productModule/fetch"})},a.onItemEditClick=function(e){a.props.dispatch({type:"productModule/loadFormPro",payload:{type:"E",id:e.goods_id,store_id:e.store_id}})},a.onProEditClose=function(){a.props.dispatch({type:"productModule/changeFormVisiblePro",payload:!1})},a.onProEditCallback=function(e){e.name?e.goods_category_id?e.images?e.norm_name?e.norm_value?a.props.dispatch({type:"productModule/submitPro",payload:e}):p.default.error("\u8bf7\u6dfb\u52a0\u5546\u54c1\u89c4\u683c\u503c"):p.default.error("\u8bf7\u8f93\u5165\u5546\u54c1\u89c4\u683c\u540d\u79f0"):p.default.error("\u8bf7\u4e0a\u4f20\u5546\u54c1\u56fe\u7247"):p.default.error("\u8bf7\u9009\u62e9\u5546\u54c1\u5206\u7c7b"):p.default.error("\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0")},a.renderSearchForm=function(){var e={labelCol:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:8}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:8}}},t={sm:24,md:8},l=a.props.form.getFieldDecorator,n=a.props.productModule.productClass;return P.default.createElement(I.default,null,P.default.createElement(i.default,{gutter:{md:8,lg:24,xl:48}},P.default.createElement(s.default,t,P.default.createElement(x.default,(0,f.default)({},e,{label:"\u5546\u54c1\u540d\u79f0"}),l("name",{})(P.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",maxLength:"50"})))),P.default.createElement(s.default,t,P.default.createElement(I.default.Item,(0,f.default)({},e,{label:"\u5546\u54c1\u5206\u7c7b"}),l("category_id",{})(P.default.createElement(c.default,{fieldNames:{label:"value",value:"key",children:"children"},options:n,onChange:a.ChangeProductClass,expandTrigger:"hover",placeholder:"\u8bf7\u9009\u62e9\u5546\u54c1\u5206\u7c7b"})))),P.default.createElement(s.default,t,P.default.createElement(x.default,(0,f.default)({},e,{label:"\u5546\u54c1\u72b6\u6001"}),l("goods_status")(P.default.createElement(A.DicSelect,{vmode:"int",pcode:"mall$#commodity$#status",selectProps:{placeholder:"\u8bf7\u9009\u62e9"}}))))),P.default.createElement(i.default,{gutter:{md:8,lg:24,xl:48}},P.default.createElement(s.default,t,P.default.createElement(x.default,(0,f.default)({},e,{label:"\u5546\u54c1\u63cf\u8ff0"}),l("des",{})(P.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u63cf\u8ff0",maxLength:"200"})))),P.default.createElement(s.default,t,P.default.createElement(x.default,(0,f.default)({},e,{label:"\u914d\u9001\u72b6\u6001"}),l("delivery")(P.default.createElement(A.DicSelect,{vmode:"int",pcode:"mall$#commodity$#delivery",selectProps:{placeholder:"\u8bf7\u9009\u62e9"}})))),P.default.createElement(s.default,t,P.default.createElement(u.default,{type:"primary",className:_.default.searchBtn,onClick:a.onSearchFormSubmit},"\u67e5\u8be2"),P.default.createElement(u.default,{type:"danger",className:_.default.resetBtn,onClick:a.onBtnClearClick},"\u6e05\u7a7a"))))},a}return(0,C.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"productModule/getStoreNew"}),this.props.dispatch({type:"productModule/getProductClass"})}},{key:"onDelOKClick",value:function(e,t){this.props.dispatch({type:"productModule/del",payload:{store:e.store_id,goods_id:t}})}},{key:"onEditOKClick",value:function(e,t){this.props.dispatch({type:"productModule/del",payload:{store:e.store_id,goods_id:t}})}},{key:"handelUpAndDown",value:function(e){var t=this;return 1===e.goods_status?P.default.createElement("a",{onClick:function(){t.onItemDisableClick(e)}},"\u4e0b\u67b6"):2===e.goods_status?P.default.createElement("a",{onClick:function(){t.onItemUpClick(e)}},"\u4e0a\u67b6"):null}},{key:"renderDataForm",value:function(){var e=this.props.productModule,t=e.stockData,a=e.formVisibleStock;return P.default.createElement(N.default,{visible:a,stockData:t,onChange:this.handleChange,onCancel:this.handleDataFormCancel,onSubmit:this.handleDataFormSubmit,closeBack:this.onProEditClose})}},{key:"render",value:function(){var e=this,t=this.props.productModule.data,a=t.list,l=t.pagination,i=(0,d.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return P.default.createElement("span",null,"\u5171",e,"\u6761")}},l),c=[{title:"\u5546\u54c1\u540d\u79f0/\u4ef7\u683c",render:function(e,t){var a=t.images&&t.images.length>0?t.images[0]:"",l=0!==t.price?t.price/100:0;return P.default.createElement("div",{className:_.default.goodsName},P.default.createElement("div",{className:_.default.goodsNameLeft},P.default.createElement("img",{src:a,alt:""})),P.default.createElement("div",{className:_.default.goodsNameRight},P.default.createElement("div",{className:_.default.goodsNameRightTitle},t.name),P.default.createElement("div",{className:_.default.goodsNameRightPrice},"\uffe5",l)))}},{title:"\u5546\u54c1\u63cf\u8ff0",dataIndex:"des",width:300},{title:"\u5546\u54c1\u5206\u7c7b",dataIndex:"category_name",width:100},{title:"\u914d\u9001\u72b6\u6001",dataIndex:"delivery",width:100,render:function(e){var t=e?1:2,a=["green","blue"];return P.default.createElement(A.DicShow,{pcode:"mall$#commodity$#delivery",code:[t],show:function(e){return P.default.createElement(o.default,{color:a[t-1],key:e},e)}})}},{title:"\u72b6\u6001",dataIndex:"goods_status",width:100,render:function(e){var t=["green","blue","red"];return P.default.createElement(A.DicShow,{pcode:"mall$#commodity$#status",code:[e],show:function(a){return P.default.createElement(o.default,{color:t[e-1],key:a},a)}})}},{title:"\u5e93\u5b58",dataIndex:"stock",width:100,render:function(t,a){return P.default.createElement("div",{className:_.default.stockCon},P.default.createElement("span",null,a.stock),P.default.createElement("img",{src:T.default,onClick:function(){return e.stockEditClick(a)},alt:""}))}},{title:"\u603b\u9500\u91cf",dataIndex:"quantity",width:100},{title:"\u64cd\u4f5c",render:function(t,a){return P.default.createElement("span",{className:_.default.operationBtn},P.default.createElement("a",{onClick:function(){e.onItemEditClick(t)}},"\u7f16\u8f91"),3!==a.goods_status?P.default.createElement(r.default,{type:"vertical"}):null,e.handelUpAndDown(a),P.default.createElement(r.default,{type:"vertical"}),P.default.createElement("a",{className:_.default.detBtn,onClick:function(){e.onItemDelClick(a)}},"\u5220\u9664"))}}],s=P.default.createElement("div",null,P.default.createElement(n.default,{title:"\u5546\u54c1\u7ba1\u7406",bordered:!1,headStyle:{fontSize:14,color:"rgba(46, 56, 77, 1)",fontWeight:600,padding:"0 32px 0 47px"},className:_.default.titleCard,extra:P.default.createElement(u.default,{className:_.default.createCommodity,onClick:this.onClickAdd},"\u521b\u5efa\u5546\u54c1")},P.default.createElement("div",{className:_.default.tableList},P.default.createElement("div",{className:_.default.tableListForm},this.renderSearchForm()),P.default.createElement("div",{className:_.default.tableListOperator}),P.default.createElement("div",null,P.default.createElement(D.default,{pagination:i,dataSource:a,rowKey:function(e){return e.goods_id},columns:c,scroll:{x:1170},onChange:this.onTableChange})),P.default.createElement("div",null))),this.renderDataForm(),this.renderProEdit());return s}}]),t}(P.default.PureComponent),w=S))||w)||w);t.default=O},mqWm:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var r=n(a("wCAj")),o=n(a("gWZ8")),d=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),c=n(a("ujKo")),s=n(a("MhPg")),f=n(a("p0pE")),m=l(a("q1tI")),p=a("EF3B"),g=n(a("MhlZ"));function v(e){return e?e.map(function(e){var t=(0,f.default)({},e);return t.key||(t.key=t.name),t}):[]}var h=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,i.default)(this,(0,c.default)(t).call(this,e)),a.handleSave=function(e){var t=a.state.dataSource,l=(0,o.default)(t),n=l.findIndex(function(t){return e.key===t.key}),r=l[n];l.splice(n,1,(0,f.default)({},r,e)),a.setState({dataSource:l},function(){a.triggerChange(l)})},a.triggerChange=function(e){var t=a.props.onChange;t&&t(e)},a.state={dataSource:v(e.value)},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:p.EditableFormRow,cell:p.EditableCell}},l=[{title:"\u89c4\u683c",dataIndex:"name",editable:!1},{title:"\u5e93\u5b58",dataIndex:"stock",editable:!0}],n=l.map(function(e){return e.editable?(0,f.default)({},e,{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title}}}):e});return m.default.createElement("div",{className:g.default.stockTable},m.default.createElement(r.default,{components:a,bordered:!0,dataSource:t,columns:n,pagination:!1,onRow:function(t){return{record:t,handleSave:e.handleSave}}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"value"in e?(0,f.default)({},t,{dataSource:v(e.value)}):t}}]),t}(m.PureComponent);t.default=h},qpOL:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAEtElEQVRYR7XXbWxTVRgH8P//tJu8qgyQSFBjIoprb5WwsbVjXYsJMYFoTIxRjAKBSEh8GwE1GDXxC4hARjRGiUFFiCa+kICihsjooKVbFjBs5SWbDgLiVBgZL1tpe89jblm7urCtG3f328095zm/85znnnMv0eeKRltu7Wb8fiUooomCvs/7uzcJji+cuK+kZGpXvn1y2zH3JlQfmysp/Q4g9wo4mURhvkEF6FbA6bGF7odLSpjMt1+mXRYSijS9L4KlApkw1CDZYFQtAv1Y0Oc5MVCMSOTM6AQ6V1HYpcabWys9notpSF1D7BGdMreJYOpwEVY/EjFnUaF3zowZl/uLE402TYlrfATgCRGhAvdUVRjzadVEXMd3i4i/d2ZsBeSIkJ35whyAw3SoNcHZrvYBEaZ8KMCTmTZKcW+V15jH/eHmUqF8D5Fp6VkBHVBqccDr3p0vwmpnzY6k9NcnHG69I8muD0TwVO+E0QmF6kC55zOGok3zRMPKSLowleJ3VV4jKx4KZkCEim8WrZ/OQVxUUO/6fe6adAJqI00LIJKdPam2BHzu5XYA0vV3uGWyjndvFsEz2eUgO0Txraoy1yckzRGH9CBqRLAwOzHygtLypr/C+DSDGFFIbePJSbiWqAHk2d69gueV4prKctfWXMSIQSwEE4lNIvJcdjmAf0HHG35v8eckdd+lt71G6uuPT+w2Uxbi+cxgAvxD5Xg9UF687UYI2zNiIeKmuVGLXtRbE/jbCedrc7wPbu8PYSskEokVJSgbIbLI2lN6dtp2pbi6ssy9o+8ec7Ah5hIT4yq9rnrbIGmE6A0gFmcQCuocqFf7vcZXfRGhQ82LROtNVOjUgi1Bn2fdTdfIgaNHJ5hXuAHAkgwC5J8FVCsryou/6YuwDrxrcrEOQMn1rPFswGfcdVMQC5G6qtZTZGkO4iyhVlZ5i7+90Zbf2HhuzJXE+YMimNmzfLGAz+MeNqT2SNvtjF9eD+GybE0AZ1jAV/2l7p39nTu2QtKI7qvvgbJMtKj0G0KeJlAd8Bk7BzoebIM0Nv5+29VE1zohXsggSJxy0vHKHK9r12BnlC0QC9GV7FqrBctFsplogwMvB8uMHwZDWM9vGnLwxInxZkdirYArMgiSf4DqxYDX9VM+CHsgDTFXMqV/hciUnteuVaBfCvoe+jlfhC2QcPjYPUmk6gS4m+RRFGBVoNTYOxSELRArSChy3IAkH6dy7vF7iw8PFWEbZDgD9+3Tb7HWhZvmm5BsxTvIj/0+Y4Udg94oRm1b2yj+dTmSs7M2B3weg6FwbK7Q3CWCsVZHRf5Y5TMWjBgk2jINumsfhNN7iv63gM+YyVD02HRtpvYAuO/6A9UO4u1xBUU7Zs26s9tO0IEjrZN0Ir4BWhaKwNmzI/8S9BmPslbEqQ41faFzPnCV4iUITmlgyP+w/cEJaBEZTfIBEUn/3FOpC9CqOlBR/GX6Ayb9ajLVLIJxdmZgsFhU3C7l7iVBMpX9Cd/fcLKUqUSNiMwW9KRtsEjDfE6yg0DbLWrU3PLy6ZfS2cmNlf76TqaqIToIcoxofX0dbbmsv1GmQLY7lNpulhV/bWUiE/p/EFvGG2aQ/wC+4OJBIiIdywAAAABJRU5ErkJggg=="},ufHv:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.EditableCell=t.EditableFormRow=void 0,a("5NDa");var r=n(a("5rEg"));a("giR+");var o=n(a("fyUT")),d=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),c=n(a("ujKo")),s=n(a("MhPg")),f=n(a("p0pE")),m=n(a("Y/ft"));a("y8nQ");var p=n(a("Vl3Y")),g=l(a("q1tI")),v=n(a("9DcN")),h=p.default.Item,y=g.default.createContext(),b=function(e){var t=e.form,a=(0,m.default)(e,["form"]);return g.default.createElement(y.Provider,{value:t},g.default.createElement("tr",a))},E=p.default.create({mapPropsToFields:function(e){var t=e.record?e.record:{};return{goods_code:p.default.createFormField({value:t.goods_code}),price:p.default.createFormField({value:t.price}),stock:p.default.createFormField({value:t.stock}),image:p.default.createFormField({value:t.image?t.image:[]})}},onFieldsChange:function(e,t){var a=e.handleSave,l=e.record,n=(0,f.default)({},l);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r].value);a(n)}})(b);t.EditableFormRow=E;var C=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,n=new Array(l),u=0;u<l;u++)n[u]=arguments[u];return a=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(n))),a.renderFormItem=function(e,t){if("image"===e)return g.default.createElement(h,{style:{margin:0}},a.form.getFieldDecorator(e,{rules:[{required:!1,message:"\u8bf7\u6dfb\u52a0\u89c4\u683c\u56fe\u7247"}]})(g.default.createElement(v.default,{bucket:"mall",name:"data",num:1,listType:"picture-card",accept:"image/*"})));var l=!0;return"code"===e&&(l=!1),"stock"===e?g.default.createElement(h,{style:{margin:0}},a.form.getFieldDecorator(e,{})(g.default.createElement(o.default,{style:{width:100},min:0,max:99999}))):"price"===e?g.default.createElement(h,{style:{margin:0}},a.form.getFieldDecorator(e,{})(g.default.createElement(o.default,{style:{width:110},min:0,precision:2,step:.01,max:99999999.99}))):g.default.createElement(h,{style:{margin:0}},a.form.getFieldDecorator(e,{rules:[{required:l,message:"\u8bf7\u8f93\u5165".concat(t)}]})(g.default.createElement(r.default,{style:{width:"100%"}})))},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.editable,l=t.dataIndex,n=t.title,r=(0,m.default)(t,["editable","dataIndex","title"]);return g.default.createElement("td",r,a?g.default.createElement(y.Consumer,null,function(t){return e.form=t,e.renderFormItem(l,n)}):r.children)}}]),t}(g.PureComponent);t.EditableCell=C}}]);