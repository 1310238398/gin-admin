(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[72],{"0Fj2":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var o=l(a("wCAj"));a("IzEo");var d=l(a("bx4M"));a("14J3");var r=l(a("BMrR"));a("nRaC");var u=l(a("5RzL"));a("jCWc");var i=l(a("kPKH")),c=l(a("jehZ"));a("5NDa");var f=l(a("5rEg")),s=l(a("p0pE"));a("+BJd");var m=l(a("mr32"));a("qVdP");var p=l(a("jsC+"));a("+L6B");var g=l(a("2/Rp"));a("lUTK");var h=l(a("BvKs"));a("2qtc");var y=l(a("kLXV")),E=l(a("2Taf")),v=l(a("vZ4D")),b=l(a("l4Ni")),C=l(a("ujKo")),k=l(a("rlhR")),w=l(a("MhPg"));a("y8nQ");var S,x,T,F,I=l(a("Vl3Y")),_=n(a("q1tI")),L=a("MuoO"),M=l(a("jcFm")),D=l(a("f/L7")),N=l(a("XZXw")),q=a("6LfW"),B=l(a("zwZs")),j=(S=(0,L.connect)(function(e){return{commodityManagement:e.commodityManagement}}),x=I.default.create(),S(T=x((F=function(e){function t(){var e,a;(0,E.default)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return a=(0,b.default)(this,(e=(0,C.default)(t)).call.apply(e,[this].concat(n))),a.state={},a.queryForm=null,a.pagination={},a.onBtnSearchClick=function(){a.pagination={current:1,pageSize:10},a.queryForm=a.props.form.getFieldsValue(),a.queryListData(a.queryForm,a.pagination)},a.onTableChange=function(e){var t=a.queryForm;a.queryListData(t,e)},a.onBtnClearClick=function(){a.props.form.resetFields(),a.onBtnSearchClick()},a.showCommodityInfoFrame=function(e){a.props.dispatch({type:"commodityManagement/seeGoodsInfo",payload:{visible:!0,data:e}})},a.closeSubFrame=function(){a.props.dispatch({type:"commodityManagement/seeGoodsInfo",payload:{visible:!1,data:null}})},a.Liftaban=function(e){y.default.confirm({title:"\u64cd\u4f5c\u786e\u8ba4",content:"\u786e\u8ba4\u8981\u7981\u552e\u6b64\u5546\u54c1\uff1f",okType:"danger",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:a.Liftabanoff.bind((0,k.default)(a),e)})},a.Liftabanoff=function(e){a.props.dispatch({type:"commodityManagement/LiftabanOff",goodsid:e.goods_id}),a.closeSubFrame()},a.forbidThesale=function(e){y.default.confirm({title:"\u64cd\u4f5c\u786e\u8ba4",content:"\u786e\u8ba4\u8981\u89e3\u7981\u6b64\u5546\u54c1\uff1f",okType:"danger",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:a.forbidThesaleoff.bind((0,k.default)(a),e)})},a.forbidThesaleoff=function(e){a.props.dispatch({type:"commodityManagement/ForbideOff",goodsid:e.goods_id}),a.closeSubFrame()},a}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"commodityManagement/queryCommClass"}),this.onBtnSearchClick()}},{key:"queryListData",value:function(e,t){this.props.dispatch({type:"commodityManagement/queryShopStatueTotalInfo",params:e,pagination:{current:t.current,pageSize:t.pageSize}})}},{key:"render",value:function(){var e=this,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a=this.props.form.getFieldDecorator,l=this.props.commodityManagement,n=l.tableData,y=n.list,E=n.pagination,v=l.CommClasslist,b=l.loading,C=l.seeVisible,k=l.dataSoure,w=[{title:"\u64cd\u4f5c",key:"operation",fixed:"left",width:100,render:function(t,a){return _.default.createElement(p.default,{placement:"bottomCenter",overlay:_.default.createElement(h.default,null,_.default.createElement(h.default.Item,{onClick:function(){return e.showCommodityInfoFrame(a)}},"\u67e5\u770b"),3===a.goods_status?_.default.createElement(h.default.Item,{onClick:function(){return e.forbidThesale(a)}},"\u89e3\u7981"):null,1===a.goods_status||2===a.goods_status?_.default.createElement(h.default.Item,{onClick:function(){return e.Liftaban(a)}},"\u7981\u552e"):null)},_.default.createElement(g.default,null,"\u64cd\u4f5c"))}},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name",width:600,render:function(e,t){var a=t.images&&t.images.length>0?t.images[0]:"",l=0!==t.price?t.price/100:0;return _.default.createElement("div",{className:B.default.goodsName},_.default.createElement("div",{className:B.default.goodsNameLeft},_.default.createElement("img",{src:a,alt:""})),_.default.createElement("div",{className:B.default.goodsNameRight},_.default.createElement("div",{className:B.default.goodsNameRightTitle,title:t.name},t.name),_.default.createElement("div",{className:B.default.goodsNameRightPrice},"\uffe5",l)))}},{title:"\u5546\u54c1\u5206\u7c7b",dataIndex:"category_name",key:"category_name"},{title:"\u6240\u5c5e\u5e97\u94fa",dataIndex:"store_name",key:"store_name"},{title:"\u5546\u54c1\u63cf\u8ff0",dataIndex:"des",width:400,key:"des",render:function(e){return _.default.createElement("div",{title:e,className:B.default.des},e)}},{title:"\u914d\u9001",dataIndex:"delivery",width:100,key:"delivery",render:function(e){var t=e?1:2,a=["green","blue"];return _.default.createElement(q.DicShow,{pcode:"mall$#commodity$#delivery",code:[t],show:function(e){return _.default.createElement(m.default,{color:a[t-1],key:e},e)}})}},{title:"\u72b6\u6001",dataIndex:"goods_status",width:100,key:"goods_status",render:function(e){var t=["green","blue","red"];return _.default.createElement(q.DicShow,{pcode:"mall$#commodity$#status",code:[e],show:function(a){return _.default.createElement(m.default,{color:t[e-1],key:a},a)}})}}],S=(0,s.default)({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return _.default.createElement("span",null,"\u5171",e,"\u6761\u8bb0\u5f55")}},E),x=_.default.createElement("div",null,_.default.createElement(N.default,{title:"\u5546\u54c1\u7ba1\u7406"},_.default.createElement(d.default,{bordered:!1,style:{marginTop:"16px"}},_.default.createElement(I.default,null,_.default.createElement(r.default,null,_.default.createElement(i.default,{span:6},_.default.createElement(M.default,(0,c.default)({},t,{label:"\u5546\u54c1\u540d\u79f0"}),a("name",{})(_.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165"})))),_.default.createElement(i.default,{span:8},_.default.createElement(M.default,(0,c.default)({},t,{label:"\u5546\u54c1\u5206\u7c7b"}),a("category_id",{})(_.default.createElement(u.default,{style:{width:"100%"},treeData:v,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"\u8bf7\u9009\u62e9",treeDefaultExpandAll:!0,allowClear:!0,onChange:this.onCommodityChange})))),_.default.createElement(i.default,{span:6},_.default.createElement(M.default,(0,c.default)({},t,{label:"\u6240\u5c5e\u5e97\u94fa"}),a("store_name",{})(_.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165"}))))),_.default.createElement(r.default,null,_.default.createElement(i.default,{span:6},_.default.createElement(M.default,(0,c.default)({},t,{label:"\u5546\u54c1\u63cf\u8ff0"}),a("des",{})(_.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165"})))),_.default.createElement(i.default,{span:8},_.default.createElement(M.default,(0,c.default)({},t,{label:"\u914d\u9001"}),a("delivery",{})(_.default.createElement(q.DicSelect,{vmode:"string",pcode:"mall$#commodity$#delivery",selectProps:{placeholder:"\u8bf7\u9009\u62e9"}})))),_.default.createElement(i.default,{span:6},_.default.createElement(M.default,(0,c.default)({},t,{label:"\u5546\u54c1\u72b6\u6001"}),a("goods_status",{})(_.default.createElement(q.DicSelect,{vmode:"string",pcode:"mall$#commodity$#status",selectProps:{placeholder:"\u8bf7\u9009\u62e9"}}))))),_.default.createElement(r.default,null,_.default.createElement(i.default,{span:24,style:{textAlign:"right"}},_.default.createElement(g.default,{type:"primary",onClick:this.onBtnSearchClick},"\u67e5\u8be2"),_.default.createElement(g.default,{style:{marginLeft:8},onClick:this.onBtnClearClick},"\u6e05\u7a7a"))))),_.default.createElement(d.default,{bordered:!1},_.default.createElement(o.default,{loading:b,dataSource:y,columns:w,scroll:{x:2e3},rowKey:function(e){return e.goods_id},onChange:this.onTableChange,pagination:S}))),C&&_.default.createElement(D.default,{data:k,visible:C,onShopInfoFrameCloseCallback:this.closeSubFrame}));return x}}]),t}(_.PureComponent),T=F))||T)||T);t.default=j}}]);